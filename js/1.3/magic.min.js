$(document).ready(function(){function t(){$("div.loading").show()}function e(){$("div.loading").fadeOut("fast")}function i(i,a,n,o){return o="undefined"!=typeof o?o:!1,t(),$.post(a,n,function(t){p("popup_w"+i,t,o),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}function a(i,a,n,o){return t(),o="undefined"!=typeof o?o:!0,$.post(a,n,function(t){$("div"+i).html(t).slideDown("fast"),o&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}function n(t){-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}function r(t){$("div.jqueryError").fadeIn("fast"),t.length>0&&$(".jqueryErrorText").html(t).show(),e()}function o(){$(".jqueryErrorText").html(),$("div.jqueryError").fadeOut("fast")}function s(){$(".tooltip").hide()}function p(e,i,a){if(t(),a===!0)var n="#popupOverlay2";else var n="#popupOverlay";$(n).fadeIn("fast"),i!==!1&&"undefined"!=typeof i&&$(n+" ."+e).html(i),1!=a&&$("#popupOverlay2 > div").empty(),$(n+" ."+e).fadeIn("fast"),$("body").addClass("stop-scrolling")}function u(t,e){if(e===!0)var i="#popupOverlay2";else var i="#popupOverlay";$(i+" ."+t).fadeOut("fast"),$(i+" > div").empty(),$("body").removeClass("stop-scrolling")}function d(){$("#popupOverlay").fadeOut("fast"),$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay > div").empty(),$("#popupOverlay2 > div").empty(),$(".popup").fadeOut("fast"),$("body").removeClass("stop-scrolling"),e()}function c(){$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay2 .popup").fadeOut("fast"),$("#popupOverlay2 > div").empty(),e(),$("body").removeClass("stop-scrolling")}function l(){$(".popup_wmasks").fadeOut("fast"),e()}function f(){var t,e,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",a="";for(t=0;10>t;t++)e=Math.floor(62*Math.random()),a+=i.charAt(e);return a}function h(t,e,i){var a,n;if("undefined"==typeof i)a=new Date,a.setTime(a.getTime()+24*i*60*60*1e3),n="; expires="+a.toGMTString();else var n="";document.cookie=t+"="+e+n+"; path=/"}function v(t){for(var e=t+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null}function b(t,e){var i=v("sstr");if(("undefined"==typeof i||null==i||0===i.length)&&(i="|"),"add"==t){for(var a=i.split("|"),n=!1,r=0;r<a.length;r++)a[r]==e&&(n=!0);0==n&&(i+=e+"|")}else"remove"==t&&(i=i.replace("|"+e+"|","|"));h("sstr",i,365)}function k(e){if(t(),"topmenu"==e)var i=$(".searchInput").val(),a="searchSelect";else var i=$("form#search .search").val(),a="search";i=i.replace(/\//g,"%252F");var n=$("#"+a+" input[name=addresses]").is(":checked")?"on":"off",r=$("#"+a+" input[name=subnets]").is(":checked")?"on":"off",o=$("#"+a+" input[name=vlans]").is(":checked")?"on":"off",s=$("#"+a+" input[name=vrf]").is(":checked")?"on":"off",p=$("#"+a+" input[name=pstn]").is(":checked")?"on":"off";h("search_parameters",'{"addresses":"'+n+'","subnets":"'+r+'","vlans":"'+o+'","vrf":"'+s+'","pstn":"'+p+'"}',365);var u=window.navigator.userAgent,d=u.indexOf("MSIE ");if(d>0||navigator.userAgent.match(/Trident.*rv\:11\./))var c=$(".iebase").html();else var c="";var l=$("#prettyLinks").html();"Yes"==l?window.location=c+"tools/search/"+i:window.location=c+"?page=tools&section=search&ip="+i}return $(document).keydown(function(t){27===t.keyCode&&d()}),$(document).on("submit",".searchFormClass",function(){return!1}),$(".show_popover").popover(),$("div.jqueryError").hide(),$(document).on("click","#hideError",function(){return o(),!1}),$(".disabled a").click(function(){return!1}),$(document).on("click",".hidePopups",function(){d()}),$(document).on("click",".hidePopup2",function(){c()}),$(document).on("click",".hidePopupMasks",function(){l()}),$(document).on("click",".hidePopupsReload",function(){window.location.reload()}),$("a.disabled, button.disabled").click(function(){return!1}),$("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),$(document).on("click",".selfDestruct",function(){$(this).parent("div").fadeOut("fast")}),$(function(){$(".popup").draggable({handle:".pHeader"})}),null==v("table-page-size")?def_size=25:def_size=v("table-page-size"),$("table.sorted").bdt({pageRowCount:def_size,searchFormClass:"form-inline pull-right searchFormClass",divClass:"text-right"}),$("table.sorted-left").bdt({pageRowCount:def_size,searchFormClass:"form-inline pull-left searchFormClass clearfix",divClass:"text-left clearfix"}),$("table.sorted").stickyTableHeaders(),$("li.disabled a").click(function(){return!1}),$("form.search-form").submit(function(){return!1}),$("#dashboard").length>0&&$('div[id^="w-"]').each(function(){var t=$(this).attr("id");t=t.replace("w-",""),$.post("app/dashboard/widgets/"+t+".php",function(e){$("#w-"+t+" .hContent").html(e)}).fail(function(e,i,a){$("#w-"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')})}),$(document).on("click",".add-new-widget",function(){return t(),$.post("app/dashboard/widget-popup.php",function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","i.remove-widget",function(){$(this).parent().parent().fadeOut("fast").remove()}),$(document).on("click","#sortablePopup li a.widget-add",function(){var t=$(this).attr("id"),e=$(this).attr("data-size"),i=$(this).attr("data-htitle"),a='<div class="row-fluid"><div class="span'+e+' widget-dash" id="'+t+'"><div class="inner movable"><h4>'+i+'</h4><div class="hContent"></div></div></div></div>';return $("#dashboard").append(a),w=t.replace("w-",""),$.post("app/dashboard/widgets/"+w+".php",function(e){$("#"+t+" .hContent").html(e)}).fail(function(e,i,a){$("#"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')}),$(this).parent().fadeOut("fast"),!1}),$(".removeMaintaneance").click(function(){i("400","app/admin/settings/remove-maintaneance.php","",!1)}),$("ul.submenu.submenu-close").hide(),$(".icon-folder-close,.icon-folder-show, .icon-search").tooltip({delay:{show:2e3,hide:0},placement:"bottom"}),$("ul#subnets").on("click",".fa-folder-close-o",function(){$(this).removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(this).nextAll(".submenu").slideDown("fast"),b("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder",function(){$(this).removeClass("fa-folder").addClass("fa-folder-open"),$(this).nextAll(".submenu").slideDown("fast"),b("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open-o",function(){$(this).removeClass("fa-folder-open-o").addClass("fa-folder-close-o"),$(this).nextAll(".submenu").slideUp("fast"),b("remove",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open",function(){$(this).removeClass("fa-folder-open").addClass("fa-folder"),$(this).nextAll(".submenu").slideUp("fast"),b("remove",$(this).attr("data-str_id"))}),$("#expandfolders").click(function(){var t=$(this).attr("data-action");"close"==t?($(".subnets ul#subnets li.folder > i").removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").removeClass("fa-folder").addClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").removeClass("submenu-close").addClass("submenu-open").slideDown("fast"),$(this).attr("data-action","open"),h("expandfolders","1","365"),$(this).removeClass("fa-expand").addClass("fa-compress")):($(".subnets ul#subnets li.folder > i").addClass("fa-folder-close-o").removeClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").addClass("fa-folder").removeClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").addClass("submenu-close").removeClass("submenu-open").slideUp("fast"),$(this).attr("data-action","close"),h("expandfolders","0","365"),$(this).removeClass("fa-compress").addClass("fa-expand"))}),$(document).on("click",".modIPaddr",function(){t();var i=$(this).attr("data-action"),a=$(this).attr("data-id"),n=$(this).attr("data-subnetId"),o=$(this).attr("data-stopIP"),s="action="+i+"&id="+a+"&subnetId="+n+"&stopIP="+o;return $.post("app/subnets/addresses/address-modify.php",s,function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","a.moveIPaddr",function(){t();var i=$(this).attr("data-action"),a=$(this).attr("data-id"),n=$(this).attr("data-subnetId"),o="action="+i+"&id="+a+"&subnetId="+n;return $.post("app/subnets/addresses/move-address.php",o,function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#refreshHostname",function(){t();var i=$("input.ip_addr").val(),a=$(this).attr("data-subnetId");$.post("app/subnets/addresses/address-resolve.php",{ipaddress:i,subnetId:a},function(t){0!==t.length&&$("input[name=dns_name]").val(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","button#editIPAddressSubmit, .editIPSubmitDelete",function(){t();var e=$("form.editipaddress").serialize();return"editIPSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes&action=delete"),"all-delete"==$(this).attr("data-action")&&(e+="&action-visual=delete"),$.post("app/subnets/addresses/address-modify-submit.php",e,function(t){$("div.addnew_check").html(t),$("div.addnew_check").slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".ping_ipaddress",function(){t();var i=$(this).attr("data-id"),a=$(this).attr("data-subnetId");return $(this).hasClass("ping_ipaddress_new")&&(i=$("input[name=ip_addr]").val()),$.post("app/subnets/addresses/ping-address.php",{id:i,subnetId:a},function(t){$("#popupOverlay2 div.popup_w400").html(t),p("popup_w400",!1,!0),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","a.mail_ipaddress",function(){var t=$(this).attr("data-id");return $.post("app/subnets/addresses/mail-notify.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#mailIPAddressSubmit",function(){t();var e=$("form#mailNotify").serialize();return $.post("app/subnets/addresses/mail-notify-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","a.mail_subnet",function(){var t=$(this).attr("data-id");return $.post("app/subnets/mail-notify-subnet.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#mailSubnetSubmit",function(){t();var e=$("form#mailNotifySubnet").serialize();return $.post("app/subnets/mail-notify-subnet-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("table.ipaddresses th a").click(function(){return!1}),$("a.scan_subnet").click(function(){t();var i=$(this).attr("data-subnetId");return $.post("app/subnets/scan/subnet-scan.php",{subnetId:i},function(t){$("#popupOverlay div.popup_wmasks").html(t),p("popup_wmasks"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("change","table.table-scan select#type",function(){var t=$("select[name=type]").find(":selected").val();"scan-telnet"==t?$("tbody#telnetPorts").show():$("tbody#telnetPorts").hide()}),$(document).on("change","table.table-scan select#type",function(){var t=$(this).find(":selected").val();h("scantype",t,32)}),$(document).on("click","#subnetScanSubmit",function(){t(),$("#subnetScanResult").slideUp("fast");var i=$(this).attr("data-subnetId"),a=$("select[name=type]").find(":selected").val();if($("input[name=debug]").is(":checked"))var n=1;else var n=0;var o=$("input[name=telnetports]").val();return $("#alert-scan").slideUp("fast"),$.post("app/subnets/scan/subnet-scan-execute.php",{subnetId:i,type:a,debug:n,port:o},function(t){$("#subnetScanResult").html(t).slideDown("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".resultRemove",function(){$(this).hasClass("resultRemoveMac")&&($(this).parent().parent().find("span.ip-address").hasClass("hidden")||$(this).parent().parent().next().find("span.ip-address").removeClass("hidden"));var t=$(this).attr("data-target");return $("tr."+t).remove(),!1}),$(document).on("click","a#saveScanResults",function(){t();var e=$(this).attr("data-script"),i=$(this).attr("data-subnetId"),a=$("form."+e+"-form").serialize(),a=a+"&subnetId="+i;return $.post("app/subnets/scan/subnet-"+e+"-result.php",a,function(t){$("#subnetScanAddResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("a.csvImport").click(function(){t();var i=$(this).attr("data-subnetId");return $.post("app/subnets/import-subnet/index.php",{subnetId:i},function(t){$("div.popup_max").html(t),p("popup_max"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","input#csvimportcheck",function(){t();var i=$("span.fname").html(),a=$("a.csvImport").attr("data-subnetId");$.post("app/subnets/import-subnet/print-file.php",{filetype:i,subnetId:a},function(t){$("div.csvimportverify").html(t).slideDown("fast"),e(),$(".importFooter").removeClass("hidePopups").addClass("hidePopupsReload")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","input#csvImportNo",function(){$("div.csvimportverify").hide("fast")}),$(document).on("click","input#csvImportYes",function(){t();var i=$("span.fname").html();if($("input[name=ignoreErrors]").is(":checked"))var a="1";else var a="0";var n=$("a.csvImport").attr("data-subnetId"),o="subnetId="+n+"&filetype="+i+"&ignoreError="+a;$.post("app/subnets/import-subnet/import-file.php",o,function(t){$("div.csvImportResult").html(t).slideDown("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","#csvtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/import-subnet/import-template.php'></iframe></div>"),!1}),$(document).on("click","#vrftemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vrf'></iframe></div>"),!1}),$(document).on("click","#vlanstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlans'></iframe></div>"),!1}),$(document).on("click","#vlandomaintemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlandomain'></iframe></div>"),!1}),$(document).on("click","#subnetstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=subnets'></iframe></div>"),!1}),$(document).on("click","#ipaddrtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=ipaddr'></iframe></div>"),!1}),$(document).on("click","#devicestemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devices'></iframe></div>"),!1}),$(document).on("click","#devicetypestemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devicetypes'></iframe></div>"),!1}),$("a.csvExport").click(function(){t();var i=$(this).attr("data-subnetId");return $.post("app/subnets/addresses/export-field-select.php",{subnetId:i},function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#exportSubnet",function(){var t=$("a.csvExport").attr("data-subnetId"),e=$("form#selectExportFields").serialize();return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/addresses/export-subnet.php?subnetId="+t+"&"+e+"'></iframe></div>"),!1}),$(document).on("click","a.editFavourite",function(){var t=$(this).attr("data-subnetId"),i=$(this).attr("data-action"),a=$(this).attr("data-from"),n=$(this);return $.post("app/tools/favourites/favourite-edit.php",{subnetId:t,action:i,from:a},function(r){"success"==r&&"widget"==a?($("tr.favSubnet-"+t).addClass("error"),$("tr.favSubnet-"+t).delay(200).fadeOut()):"success"==r?($(this).toggleClass("btn-info"),$("a.favourite-"+t+" i").toggleClass("fa-star-o"),$(n).toggleClass("btn-info"),"remove"==i?($("a.favourite-"+t).attr("data-original-title","Click to add to favourites"),$(n).attr("data-action","add")):($("a.favourite-"+t).attr("data-original-title","Click to remove from favourites"),$(n).attr("data-action","remove"))):($("#popupOverlay div.popup_w500").html(r),p("popup_w500"),e())}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("a.request_ipaddress").click(function(){t();var i=$(this).attr("data-subnetId");return $.post("app/tools/request-ip/index.php",{subnetId:i},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#requestIP_widget",function(){t();var i=$("select#subnetId option:selected").attr("value"),a=document.getElementById("ip_addr_widget").value;return $.post("app/tools/request-ip/index.php",{subnetId:i,ip_addr:a},function(t){$("div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("change","select#subnetId",function(){t();var i=$("select#subnetId option:selected").attr("value");$.post("app/login/request_ip_first_free.php",{subnetId:i},function(t){$("input.ip_addr").val(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","button#requestIPAddressSubmit",function(){t();var e=$("form#requestIP").serialize();return $.post("app/login/request_ip_result.php",e,function(t){$("div#requestIPresult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("form#ipCalc").submit(function(){t();var i=$(this).serialize();return $.post("app/tools/ip-calculator/result.php",i,function(t){$("div.ipCalcResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("form#ipCalc input.reset").click(function(){$('form#ipCalc input[type="text"]').val(""),$("div.ipCalcResult").fadeOut("fast")}),$(".searchSubmit").click(function(){return k("topmenu"),!1}),$("form#userMenuSearch").submit(function(){return k("topmenu"),!1}),$("form#search").submit(function(){return k("search"),!1}),$("a.search_ipaddress").click(function(){h("search_parameters",'{"addresses":"on","subnets":"off","vlans":"off","vrf":"off"}',365)}),$(document).on("mouseenter","#userMenuSearch",function(t){var e=$("#searchSelect");e.slideDown("fast")}),$(document).on("mouseleave","#user_menu",function(t){$(this).stop();var e=$("#searchSelect");e.slideUp()}),$(document).on("click","#exportSearch",function(t){var e=$(this).attr("data-post");return $("div.dl").remove(),$("div.exportDIVSearch").append("<div style='display:none' class='dl'><iframe src='app/tools/search/search-results-export.php?ip="+e+"'></iframe></div>"),!1}),$("#hosts").submit(function(){t();var e=$("input.hostsFilter").val(),i=$("#prettyLinks").html();return"Yes"==i?window.location=base+"tools/hosts/"+e:window.location=base+"?page=tools&section=hosts&ip="+e,!1}),$("form#userModSelf").submit(function(){var t=$(this).serialize();return $("div.userModSelfResult").hide(),$.post("app/tools/user-menu/user-edit.php",t,function(t){$("div.userModSelfResult").html(t).fadeIn("fast").delay(2e3).fadeOut("slow")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#randomPassSelf",function(){var t=f();return $("input.userPass").val(t),$("#userRandomPass").html(t),!1}),$("form#cform").submit(function(){t();var e=$("form#cform .climit").val(),i=$("form#cform .cfilter").val(),a=$("#prettyLinks").html();return"Yes"==a?window.location="tools/changelog/"+i+"/"+e+"/":window.location="?page=tools&section=changelog&subnetId="+i+"&sPage="+e,!1}),$("form#changePassRequiredForm").submit(function(){t();var i=$("#ipampassword1",this).val(),a=$("#ipampassword2",this).val(),n="ipampassword1="+i+"&ipampassword2="+a;return $.post("app/tools/pass-change/result.php",n,function(t){$("div#changePassRequiredResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".show-masks",function(){return i("masks","app/tools/subnet-masks/popup.php",{closeClass:$(this).attr("data-closeClass")},!0),!1}),$("#settings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/settings/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#upload-logo").click(function(){return csrf_cookie=$("form#settings input[name=csrf_cookie]").val(),i("700","app/admin/settings/logo/logo-uploader.php",{csrf_cookie:csrf_cookie},!1),!1}),$(document).on("click",".logo-clear",function(){$.post("app/admin/settings/logo/logo-clear.php","",function(t){$("div.logo-current").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$("#mailsettings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/mail/edit.php",e,function(t){$("div.settingsMailEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("select#mtype").change(function(){var t=$(this).find(":selected").val();"localhost"===t?$("#mailsettingstbl tbody#smtp").hide():$("#mailsettingstbl tbody#smtp").show()}),$(".sendTestMail").click(function(){t();var i=$("form#mailsettings").serialize();return $.post("app/admin/mail/test-mail.php",i,function(t){$("div.settingsMailEdit").html(t).slideDown("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".editUser").click(function(){t();var i=$(this).attr("data-userid"),a=$(this).attr("data-action");return $.post("app/admin/users/edit.php",{id:i,action:a},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#editUserSubmit",function(){t();var e=$("form#usersEdit").serialize();return $.post("app/admin/users/edit-result.php",e,function(t){$("div.usersEditResult").html(t).show(),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("change","form#usersEdit select[name=authMethod]",function(){var t=$("select[name=authMethod]").find(":selected").val();"1"==t?$("tbody#user_password").show():$("tbody#user_password").hide()}),$(document).on("change","form#usersEdit select[name=role]",function(){var t=$("form#usersEdit select[name=role]").find(":selected").val();"Administrator"==t?$("tbody#user_notifications").show():$("tbody#user_notifications").hide()}),$(document).on("click","a#randomPass",function(){var t=f();return $("input.userPass").val(t),$(this).html(t),!1}),$(document).on("click",".adsearchuser",function(){$("#popupOverlay2 .popup_w500").load("app/admin/users/ad-search-form.php"),p("popup_w500",!1,!0),e()}),$(document).on("click","#adsearchusersubmit",function(){t();var i=$("#dusername").val(),a=$("#adserver").find(":selected").val();$.post("app/admin/users/ad-search-result.php",{dname:i,server:a},function(t){$("div#adsearchuserresult").html(t),e()})}),$(document).on("click",".userselect",function(){var t=$(this).attr("data-uname"),e=$(this).attr("data-username"),i=$(this).attr("data-email"),a=$(this).attr("data-server"),n=$(this).attr("data-server-type");return $("form#usersEdit input[name=real_name]").val(t),$("form#usersEdit input[name=username]").val(e),$("form#usersEdit input[name=email]").val(i),$("form#usersEdit select[name=authMethod]").val(a),$("tbody#user_password").hide(),("AD"==n||"LDAP"==n)&&$.post("app/admin/users/ad-search-result-groups-membership.php",{server:a,username:e},function(t){if(t.length>0){var e=t.replace(/\s/g,"");for(e=e.split(";"),m=0;m<e.length;++m)$("input[name='group"+e[m]+"']").attr("checked","checked")}}),c(),!1}),$(document).on("click",".adLookup",function(){$("#popupOverlay div.popup_w700").load("app/admin/groups/ad-search-group-form.php"),p("popup_w700"),e()}),$(document).on("click","#adsearchgroupsubmit",function(){t();var i=$("#dfilter").val(),a=$("#adserver").find(":selected").val();$.post("app/admin/groups/ad-search-group-result.php",{dfilter:i,server:a},function(t){$("div#adsearchgroupresult").html(t),e()})}),$(document).on("click",".groupselect",function(){t();var i=$(this).attr("data-gname"),a=$(this).attr("data-gdescription"),n=$(this).attr("data-members"),r=$(this).attr("data-gid"),o=$(this).attr("data-csrf_cookie");return $.post("app/admin/groups/edit-group-result.php",{action:"add",g_name:i,g_desc:a,gmembers:n,csrf_cookie:o},function(t){$("div.adgroup-"+r).html(t),e()}),!1}),$(".editGroup").click(function(){t();var i=$(this).attr("data-groupid"),a=$(this).attr("data-action");return $.post("app/admin/groups/edit-group.php",{id:i,action:a},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#editGroupSubmit",function(){t();var e=$("form#groupEdit").serialize();return $.post("app/admin/groups/edit-group-result.php",e,function(t){$("div.groupEditResult").html(t).show(),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".addToGroup").click(function(){t();var i=$(this).attr("data-groupid");return $.post("app/admin/groups/add-users.php",{g_id:i},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#groupAddUsersSubmit",function(){t();var e=$("#groupAddUsers").serialize();return $.post("app/admin/groups/add-users-result.php",e,function(t){$("div.groupAddUsersResult").html(t).show(),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".removeFromGroup").click(function(){t();var i=$(this).attr("data-groupid");return $.post("app/admin/groups/remove-users.php",{g_id:i},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#groupRemoveUsersSubmit",function(){t();var e=$("#groupRemoveUsers").serialize();return $.post("app/admin/groups/remove-users-result.php",e,function(t){$("div.groupRemoveUsersResult").html(t).show(),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".editAuthMethod").click(function(){t();var i=$(this).attr("data-id"),a=$(this).attr("data-action"),n=$(this).attr("data-type");return $.post("app/admin/authentication-methods/edit.php",{id:i,action:a,type:n},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#editAuthMethodSubmit",function(){t();var e=$("form#editAuthMethod").serialize();return $.post("app/admin/authentication-methods/edit-result.php",e,function(t){$("div.editAuthMethodResult").html(t).show(),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".checkAuthMethod").click(function(){t();var i=$(this).attr("data-id");return $.post("app/admin/authentication-methods/check-connection.php",{id:i},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#instructionsForm").submit(function(){var i=$("#instructionsForm input[name=csrf_cookie]").val(),a=$("#instructionsForm input[name=id]").val(),n=CKEDITOR.instances.instructions.getData();return $("div.instructionsPreview").hide("fast"),t(),$.post("app/admin/instructions/edit-result.php",{instructions:n,csrf_cookie:i,id:a},function(t){$("div.instructionsResult").html(t).fadeIn("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("div.instructionsResult").delay(2e3).fadeOut("slow"),e()):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#preview").click(function(){t();var i=CKEDITOR.instances.instructions.getData();return $.post("app/admin/instructions/preview.php",{instructions:i},function(t){$("div.instructionsPreview").html(t).fadeIn("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("form#logs").change(function(){t();var i=$("form#logs").serialize();$.post("app/tools/logs/show-logs.php",i,function(t){$("div.logs").html(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","a.openLogDetail",function(){var t=$(this).attr("data-logid");return $.post("app/tools/logs/detail-popup.php",{id:t},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#logDirection button").click(function(){t();var i,a=$("form#logs").serialize(),n=$(this).attr("data-direction");i="next"==n?$("table#logs tr:last").attr("id"):$("table#logs tr:nth-child(2)").attr("id");var o=a+"&direction="+n+"&lastId="+i;return $.post("app/tools/logs/show-logs.php",o,function(t){$("div.logs").html(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#downloadLogs").click(function(){return t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/logs/export.php'></iframe></div>"),e(),$("div.logs").prepend("<div class='alert alert-info' id='logsInfo'><i class='icon-remove icon-gray selfDestruct'></i> Preparing download... </div>"),!1}),$("#clearLogs").click(function(){return t(),$.post("app/tools/logs/clear-logs.php",function(t){$("div.logs").html(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".log-tabs li a").click(function(){return $(".log-tabs li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.log-print").hide(),$("div."+$(this).attr("data-target")).show(),!1}),$(document).on("click",".openChangelogDetail",function(){i("700","app/tools/changelog/show-popup.php",{cid:$(this).attr("data-cid")})}),$("button.editSection").click(function(){t();var i=$(this).attr("data-sectionid"),a=$(this).attr("data-action");$.post("app/admin/sections/edit.php",{sectionId:i,action:a},function(t){
$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","#editSectionSubmit, .editSectionSubmitDelete",function(){t();var e=$("form#sectionEdit").serialize();return"editSectionSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes"),$.post("app/admin/sections/edit-result.php",e,function(t){$("div.sectionEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button.sectionOrder").click(function(){return t(),$.post("app/admin/sections/edit-order.php",function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#sectionOrderSubmit",function(){t();var e=$("#sortableSec li").map(function(t,e){var i=$(this).index()+1;return $(e).attr("id")+":"+i}).get().join(";");return $.post("app/admin/sections/edit-order-result.php",{position:e},function(t){$(".sectionOrderResult").html(t).fadeIn("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#pdns-settings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/powerDNS/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("#pdns-defaults").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/powerDNS/defaults-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editDomain",function(){$(this).hasClass("editDomain2")?i("700","app/admin/powerDNS/domain-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action"),secondary:!0},!0):i("700","app/admin/powerDNS/domain-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click",".hideDefaults",function(){$(this).is(":checked")?$("tbody.defaults").hide():$("tbody.defaults").show()}),$(document).on("click","#editDomainSubmit",function(){return $(this).hasClass("editDomainSubmit2")?(t(),$.post("app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize(),function(t){$("#popupOverlay2 div.domain-edit-result").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/powerDNS/record-edit.php",{id:$("#popupOverlay .pContent .ip_dns_addr").html(),domain_id:$("#popupOverlay .pContent strong").html(),action:"add"},function(t){$("#popupOverlay .popup_w700").html(t)}),setTimeout(function(){$("#popupOverlay2").fadeOut("fast")},1500),setTimeout(function(){e()},1500)):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1):void a(".domain-edit-result","app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize())}),$(".refreshPTRsubnet").click(function(){return i("700","app/admin/powerDNS/refresh-ptr-records.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".refreshPTRsubnetSubmit",function(){return a(".refreshPTRsubnetResult","app/admin/powerDNS/refresh-ptr-records-submit.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(".editRecord").click(function(){return i("700","app/admin/powerDNS/record-edit.php",{id:$(this).attr("data-id"),domain_id:$(this).attr("data-domain_id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editRecordSubmit",function(){a(".record-edit-result","app/admin/powerDNS/record-edit-result.php",$("form#recordEdit").serialize())}),$(document).on("click","#editRecordSubmitDelete",function(){var t=$("form#recordEdit").serialize();t=t.replace("action=edit","action=delete"),a(".record-edit-result","app/admin/powerDNS/record-edit-result.php",t)}),$("#firewallZoneSettings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/firewall-zones/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editFirewallZone",function(){i("700","app/admin/firewall-zones/zones-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editZoneSubmit",function(){a(".zones-edit-result","app/admin/firewall-zones/zones-edit-result.php",$("form#zoneEdit").serialize())}),$(document).on("click",".subnet_to_zone",function(){t();var i=$(this).attr("data-subnetId"),a=$(this).attr("data-operation"),n="operation="+a+"&subnetId="+i;return $.post("app/admin/firewall-zones/subnet-to-zone.php",n,function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#subnet-to-zone-submit",function(){a(".subnet-to-zone-result","app/admin/firewall-zones/subnet-to-zone-save.php",$("form#subnet-to-zone-edit").serialize())}),$(document).on("change",".checkMapping",function(){t();var i=$(this).serializeArray();return i.push({name:"operation",value:"checkMapping"}),$.post("app/admin/firewall-zones/ajax.php",i,function(t){$("div.mappingAdd").html(t).slideDown("fast")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),e(),!1}),$(document).on("click",".editNetwork",function(){var t=$("form#zoneEdit").serializeArray();t.push({name:"action",value:$(this).attr("data-action")}),t.push({name:"subnetId",value:$(this).attr("data-subnetId")}),$("#popupOverlay2 .popup_w500").load("app/admin/firewall-zones/zones-edit-network.php",t),p("popup_w500",!1,!0),e()}),$(document).on("click",".deleteTempNetwork",function(){t();var i="network["+$(this).attr("data-subnetArrayKey")+"]",a=$('form#zoneEdit :input[name != "'+i+'"][name *= "network["]').serializeArray();return a.push({name:"noZone",value:1}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),setTimeout(function(){e()},500),!1}),$(document).on("click","#editNetworkSubmit",function(){return t(),reload="undefined"!=typeof reload?reload:!0,$.post("app/admin/firewall-zones/zones-edit-network-result.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zones-edit-network-result").html(t).slideDown("fast"),reload&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/firewall-zones/ajax.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),setTimeout(function(){e(),c()},500)):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("change",".firewallZoneSection",function(){t();var i=$(this).serializeArray();return i.push({name:"operation",value:"fetchSectionSubnets"}),$.post("app/admin/firewall-zones/ajax.php",i,function(t){$("div.sectionSubnets").html(t).slideDown("fast")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),e(),!1}),$(document).on("click",".editMapping",function(){return i("700","app/admin/firewall-zones/mapping-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editMappingSubmit",function(){a(".mapping-edit-result","app/admin/firewall-zones/mapping-edit-result.php",$("form#mappingEdit").serialize())}),$(document).on("change",".mappingZoneInformation",function(){t();var i=$(this).serializeArray();return i.push({name:"operation",value:"deliverZoneDetail"}),$.post("app/admin/firewall-zones/ajax.php",i,function(t){$("div.zoneInformation").html(t).slideDown("fast")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),e(),!1}),$(document).on("click","a.fw_autogen",function(){var i=$(this).attr("data-subnetid"),a=$(this).attr("data-ipid"),n=$(this).attr("data-dnsname"),o=$(this).attr("data-action"),s="autogen";return t(),$.post("app/admin/firewall-zones/ajax.php",{subnetId:i,IPId:a,dnsName:n,action:o,operation:s}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),setTimeout(function(){e(),window.location.reload()},500),!1}),$('table#manageSubnets button[id^="subnet-"]').click(function(){t();var i=$(this).attr("id");$("#content-"+i).is(":visible")?$(this).children("i").removeClass("fa-angle-down").addClass("fa-angle-right"):$(this).children("i").removeClass("fa-angle-right").addClass("fa-angle-down"),$("table#manageSubnets tbody#content-"+i).slideToggle("fast"),e()}),$("#toggleAllSwitches").click(function(){t(),$(this).children().hasClass("fa-compress")?($(this).children().removeClass("fa-compress").addClass("fa-expand"),$("table#manageSubnets i.fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-right"),$('table#manageSubnets tbody[id^="content-subnet-"]').hide(),h("showSubnets",0,30)):($(this).children().removeClass("fa-expand").addClass("fa-compress"),$('table#manageSubnets tbody[id^="content-subnet-"]').show(),$("table#manageSubnets i.fa-angle-right").removeClass("fa-angle-right").addClass("fa-angle-down"),h("showSubnets",1,30)),e()}),$("button.editSubnet").click(function(){t();var i=$(this).attr("data-sectionid"),a=$(this).attr("data-subnetid"),n=$(this).attr("data-action"),o="sectionId="+i+"&subnetId="+a+"&action="+n;$.post("app/admin/subnets/edit.php",o,function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click","#resize, #split, #truncate, .subnet-truncate",function(){t();var i=$(this).attr("id"),a=$(this).attr("data-subnetId");return $.post("app/admin/subnets/"+i+".php",{action:i,subnetId:a},function(t){p("popup_w500",t,!0),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#subnetResizeSubmit",function(){t();var e=$("form#subnetResize").serialize();return $.post("app/admin/subnets/resize-save.php",e,function(t){$("div.subnetResizeResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#subnetSplitSubmit",function(){t();var e=$("form#subnetSplit").serialize();return $.post("app/admin/subnets/split-save.php",e,function(t){$("div.subnetSplitResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#subnetTruncateSubmit",function(){t();var e=$(this).attr("data-subnetId"),i=$(this).attr("data-csrf_cookie");return $.post("app/admin/subnets/truncate-save.php",{subnetId:e,csrf_cookie:i},function(t){$("div.subnetTruncateResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("submit","#editSubnetDetails",function(){return!1}),$(document).on("click",".editSubnetSubmit, .editSubnetSubmitDelete",function(){t();var i=$("form#editSubnetDetails").serialize();return $(this).hasClass("editSubnetSubmitDelete")&&(i=i.replace("action=edit","action=delete")),"editSubnetSubmitDelete"==$(this).attr("id")&&(i+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-result.php",i,function(a){if($("div.manageSubnetEditResult").html(a).slideDown("fast"),-1==a.search("alert-danger")&&-1==a.search("error")){t();var n,r;if(-1!=i.search("IPaddresses"))if(n=$("form#editSubnetDetails input[name=sectionId]").val(),r=$("form#editSubnetDetails input[name=subnetId]").val(),"undefined"!==$(".subnet_id_new").html()){var o=$(".subnet_id_new").html();if(o%1===0){var s=$(".section_id_new").html(),p=window.navigator.userAgent,u=p.indexOf("MSIE ");if(u>0||navigator.userAgent.match(/Trident.*rv\:11\./))var d=$(".iebase").html();else var d="";var c=$("#prettyLinks").html();"Yes"==c?setTimeout(function(){window.location=d+"subnets/"+s+"/"+o+"/"},1500):setTimeout(function(){window.location=d+"?page=subnets&section="+s+"&subnetId="+o},1500)}else setTimeout(function(){window.location.reload()},1500)}else setTimeout(function(){window.location.reload()},1500);else-1!=i.search("freespace")?setTimeout(function(){window.location.reload()},1500):-1!=i.search("ipcalc")||setTimeout(function(){window.location.reload()},1500)}else e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#get-ripe",function(){t();var i=$("form#editSubnetDetails input[name=subnet]").val();return $.post("app/admin/subnets/ripe-query.php",{subnet:i},function(t){p("popup_w500",t,!0),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#ripeMatchSubmit",function(){var t=$("form#ripe-fields").serialize(),e=t.split("&");for(index=0;index<e.length;++index)if(e[index].indexOf("=0")>-1);else{console.log(e[index]);var i=e[index].split("=");$("form#editSubnetDetails input[name="+i[1]+"]").val(i[0].replace(/___/g," "))}c()}),$(".showSubnetPerm").click(function(){t();var i=$(this).attr("data-subnetId"),a=$(this).attr("data-sectionId");return $.post("app/admin/subnets/permissions-show.php",{subnetId:i,sectionId:a},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editSubnetPermissionsSubmit",function(){t();var e=$("form#editSubnetPermissions").serialize();return $.post("app/admin/subnets/permissions-submit.php",e,function(t){$(".editSubnetPermissionsResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".dropdown-subnets li a",function(){var t=$(this).attr("data-cidr"),e=$("form#editSubnetDetails input[name=subnet]");return $(e).val(t),$(".dropdown-subnets").parent().removeClass("open"),!1}),$(".editSubnetLink").click(function(){return t(),$.post("app/admin/subnets/linked-subnet.php",{subnetId:$(this).attr("data-subnetId")},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".linkSubnetSave",function(){return t(),$.post("app/admin/subnets/linked-subnet-submit.php",$("form#editLinkedSubnet").serialize(),function(t){$(".linkSubnetSaveResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#createSubnetFromCalc",function(){$("tr#selectSection").show()}),$(document).on("change","select#selectSectionfromIPCalc",function(){var t=$(this).val(),i=$("table.ipCalcResult td#sub2").html(),a=$("table.ipCalcResult td#sub4").html();if("IPv6"==$("table.ipCalcResult td#sub0").html())var n="sectionId="+t+"&subnet="+$("table.ipCalcResult td#sub3").html()+"&bitmask=&action=add&location=ipcalc";else var n="sectionId="+t+"&subnet="+i+"&bitmask="+a+"&action=add&location=ipcalc";$("table.newSections ul#sections li#"+t).addClass("active"),$.post("app/admin/subnets/edit.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})}),$(document).on("click",".createfromfree",function(){var t=$(this).attr("data-sectionId"),i=$(this).attr("data-cidr"),a=$(this).attr("data-masterSubnetId"),n=i.split("/"),o=n[0],s=n[1],u="sectionId="+t+"&subnet="+o+"&bitmask="+s+"&freespaceMSID="+a+"&action=add&location=ipcalc";return $.post("app/admin/subnets/edit.php",u,function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".edit_subnet, button.edit_subnet, button#add_subnet",function(){var t=$(this).attr("data-subnetId"),i=$(this).attr("data-sectionId"),a=$(this).attr("data-action"),n="sectionId="+i+"&subnetId="+t+"&action="+a+"&location=IPaddresses";return $.post("app/admin/subnets/edit.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("change","select[name=vlanId]",function(){var i=$("select[name=vlanId] option:selected").attr("data-domain");return"Add"==$(this).val()&&(t(),$.post("app/admin/vlans/edit.php",{action:"add",fromSubnet:"true",domain:i},function(t){p("popup_w400",t,!0),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})),!1}),$(document).on("click",".vlanManagementEditFromSubnetButton",function(){t();var i=$("form#vlanManagementEditFromSubnet").serialize();return $.post("app/admin/vlans/edit-result.php",i,function(t){if($("div.vlanManagementEditFromSubnetResult").html(t).show(),-1==t.search("alert-danger")&&-1==t.search("error")){var i=$("#vlanidforonthefly").html(),a=$("#editSubnetDetails input[name=sectionId]").val();$.post("app/admin/subnets/edit-vlan-dropdown.php",{vlanId:i,sectionId:a},function(t){$(".editSubnetDetails td#vlanDropdown").html(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),setTimeout(function(){u("popup_w400",!0),c(),parameter=null},1e3)}else e()}),!1}),$(".vlansearchsubmit").click(function(){t();var e=$("input.vlanfilter").val(),i=$("input.vlanfilter").attr("data-location"),a=$("#prettyLinks").html();"Yes"==a?setTimeout(function(){window.location=i+e+"/"},500):setTimeout(function(){window.location=i+"&sPage="+e},500);var a=$("#prettyLinks").html();return"Yes"==a?setTimeout(function(){window.location=base+"subnets/"+section_id_new+"/"+subnet_id_new+"/"},1500):setTimeout(function(){window.location=base+"?page=subnets&section="+section_id_new+"&subnetId="+subnet_id_new},1500),!1}),$("#add_folder, .add_folder").click(function(){t();var i=$(this).attr("data-subnetId"),a=$(this).attr("data-sectionId"),n=$(this).attr("data-action"),o="sectionId="+a+"&subnetId="+i+"&action="+n+"&location=IPaddresses";return $.post("app/admin/subnets/edit-folder.php",o,function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editFolderSubmit",function(){t();var e=$("form#editFolderDetails").serialize();return $.post("app/admin/subnets/edit-folder-result.php",e,function(t){$(".manageFolderEditResult").html("").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editFolderSubmitDelete",function(){t();var e=$(this).attr("data-subnetId"),i=$("form#editFolderDetails #field-description").val(),a=$("form#editFolderDetails input[name=csrf_cookie]").val(),o="subnetId="+e+"&description="+i+"&action=delete&csrf_cookie="+a;return"editFolderSubmitDelete"==$(this).attr("id")&&(o+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-folder-result.php",o,function(t){$(".manageFolderEditResult").html(t),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".editSwitch",function(){i("400","app/admin/devices/edit.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchsubmit",function(){a(".switchManagementEditResult","app/admin/devices/edit-result.php",$("form#switchManagementEdit").serialize())}),$(document).on("click",".editSwitchSNMP",function(){i("400","app/admin/devices/edit-snmp.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchSNMPsubmit",function(){a(".switchSNMPManagementEditResult","app/admin/devices/edit-snmp-result.php",$("form#switchSNMPManagementEdit").serialize())}),$(document).on("click","#test-snmp",function(){return i("700","app/admin/devices/edit-snmp-test.php",$("form#switchSNMPManagementEdit").serialize(),!0),!1}),$(document).on("click","#snmp-routing",function(){return i("700","app/subnets/scan/subnet-scan-snmp-route.php","",!0),!1}),$(document).on("click","#snmp-vlan",function(){return i("700","app/admin/vlans/vlans-scan.php",{domainId:$(this).attr("data-domainid")},!0),!1}),$(document).on("click",".show-vlan-scan-result",function(){return a(".vlan-scan-result","app/admin/vlans/vlans-scan-execute.php",$("form#select-devices-vlan-scan").serialize(),!0),!1}),$(document).on("click","#saveVlanScanResults",function(){return a("#vlanScanAddResult","app/admin/vlans/vlans-scan-result.php",$("form#scan-snmp-vlan-form").serialize()),!1}),$(document).on("click","#snmp-vrf",function(){return i("700","app/admin/vrfs/vrf-scan.php",{},!0),!1}),$(document).on("click",".show-vrf-scan-result",function(){return a(".vrf-scan-result","app/admin/vrfs/vrf-scan-execute.php",$("form#select-devices-vrf-scan").serialize(),!0),!1}),$(document).on("click","#saveVrfScanResults",function(){return a("#vrfScanAddResult","app/admin/vrfs/vrf-scan-result.php",$("form#scan-snmp-vrf-form").serialize()),!1}),$(document).on("click",".select-snmp-subnet",function(){return $("form#editSubnetDetails input[name=subnet]").val($(this).attr("data-subnet")+"/"+$(this).attr("data-mask")),c(),!1}),$(document).on("click","#snmp-routing-section",function(){return i("masks","app/subnets/scan/subnet-scan-snmp-route-all.php",{sectionId:$(this).attr("data-sectionId"),subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".remove-snmp-results",function(){$("tbody#"+$(this).attr("data-target")).remove(),$(this).parent().remove()}),$(document).on("click",".remove-snmp-subnet",function(){return $("#editSubnetDetailsSNMPallTable tr#tr-"+$(this).attr("data-target-subnet")).remove(),!1}),$(document).on("click","#add-subnets-to-section-snmp",function(){return a(".add-subnets-to-section-snmp-result","app/subnets/scan/subnet-scan-snmp-route-all-result.php",$("form#editSubnetDetailsSNMPall").serialize()),!1}),$(document).on("click",".editDevType",function(){i("400","app/admin/device-types/edit.php",{tid:$(this).attr("data-tid"),action:$(this).attr("data-action")})}),$(document).on("click","#editDevTypeSubmit",function(){a(".devTypeEditResult","app/admin/device-types/edit-result.php",$("form#devTypeEdit").serialize())}),$(document).on("click",".editRack",function(){return i("400","app/admin/racks/edit.php",{rackid:$(this).attr("data-rackid"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editRacksubmit",function(){a(".rackManagementEditResult","app/admin/racks/edit-result.php",$("form#rackManagementEdit").serialize())}),$(document).on("click",".editRackDevice",function(){return i("400","app/admin/racks/edit-rack-devices.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid"),action:$(this).attr("data-action"),csrf_cookie:$(this).attr("data-csrf")}),!1}),$(document).on("click","#editRackDevicesubmit",function(){a(".rackDeviceManagementEditResult","app/admin/racks/edit-rack-devices-result.php",$("form#rackDeviceManagementEdit").serialize())}),$(document).on("click",".showRackPopup",function(){return i("400","app/tools/racks/show-rack-popup.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid")},!0),!1}),$(document).on("click",".editLocation",function(){return i("700","app/admin/locations/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editLocationSubmit",function(){return a(".editLocationResult","app/admin/locations/edit-result.php",$("form#editLocation").serialize()),!1}),$(document).on("click",".editPSTN",function(){return i("700","app/tools/pstn-prefixes/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNSubmit",function(){return a(".editPSTNResult","app/tools/pstn-prefixes/edit-result.php",$("form#editPSTN").serialize()),!1}),$(document).on("click",".editPSTNnumber",function(){return i("700","app/tools/pstn-prefixes/edit-number.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNnumberSubmit",function(){return a(".editPSTNnumberResult","app/tools/pstn-prefixes/edit-number-result.php",$("form#editPSTNnumber").serialize()),!1}),$(document).on("click",".editNat",function(){return i("700","app/admin/nat/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click",".mapNat",function(){return i("700","app/admin/nat/edit-map.php",{id:$(this).attr("data-id"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")}),!1}),$(document).on("click","#editNatSubmit",function(){var t=$("form#editNat input[name=action]").val();return"add"===t?($.post("app/admin/nat/edit-result.php",$("form#editNat").serialize(),function(t){$(".editNatResult").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){i("700","app/admin/nat/edit.php",{id:$("div.new_nat_id").html(),action:"edit"}),c(),parameter=null},1e3):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1):void a(".editNatResult","app/admin/nat/edit-result.php",$("form#editNat").serialize())}),$(document).on("click",".removeNatItem",function(){var a=$(this).attr("data-id");return t(),$.post("app/admin/nat/item-remove.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),item_id:$(this).attr("data-item-id"),csrf_cookie:$("form#editNat input[name=csrf_cookie]").val()},function(t){$("#popupOverlay2 div.popup_w500").html(t),p("popup_w700",t,!0),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){i("700","app/admin/nat/edit.php",{id:a,action:"edit"}),c(),parameter=null},1e3):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".addNatItem",function(){return i("700","app/admin/nat/item-add.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},!0),!1}),$(document).on("submit","form#search_nats",function(){return t(),$.post("app/admin/nat/item-add-search.php",$(this).serialize(),function(t){$("#nat_search_results").html(t),e()}),!1}),$(document).on("click","a.addNatObjectFromSearch",function(){var a=$(this).attr("data-id"),r=$(this).attr("data-reload");return t(),$.post("app/admin/nat/item-add-submit.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},function(t){$("#nat_search_results_commit").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?"true"==r?n(t):setTimeout(function(){i("700","app/admin/nat/edit.php",{id:a,action:"edit"}),c(),parameter=null},1e3):e()}),!1}),$(".editType").click(function(){i("400","app/admin/tags/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editTypesubmit",function(){a(".editTypeResult","app/admin/tags/edit-result.php",$("form#editType").serialize())}),$(document).on("click",".editVLAN",function(){vlanNum=$(this).attr("data-number")?$(this).attr("data-number"):"",i("400","app/admin/vlans/edit.php",{vlanId:$(this).attr("data-vlanid"),action:$(this).attr("data-action"),vlanNum:vlanNum,domain:$(this).attr("data-domain")})}),$(document).on("click","#editVLANsubmit",function(){a(".vlanManagementEditResult","app/admin/vlans/edit-result.php",$("form#vlanManagementEdit").serialize())}),$(".moveVLAN").click(function(){i("400","app/admin/vlans/move-vlan.php",{vlanId:$(this).attr("data-vlanid")})}),$(document).on("click","#moveVLANsubmit",function(){a(".moveVLANSubmitResult","app/admin/vlans/move-vlan-result.php",$("form#moveVLAN").serialize())}),$(".editVLANdomain").click(function(){i("400","app/admin/vlans/edit-domain.php",{id:$(this).attr("data-domainid"),action:$(this).attr("data-action")})}),$(document).on("click","#editVLANdomainsubmit",function(){a(".domainEditResult","app/admin/vlans/edit-domain-result.php",$("form#editVLANdomain").serialize())}),$(".vrfManagement").click(function(){i("400","app/admin/vrfs/edit.php",{vrfId:$(this).attr("data-vrfid"),action:$(this).attr("data-action")})}),$(document).on("click","#editVRF",function(){a(".vrfManagementEditResult","app/admin/vrfs/edit-result.php",$("form#vrfManagementEdit").serialize())}),$(".nameserverManagement").click(function(){i("700","app/admin/nameservers/edit.php",{nameserverId:$(this).attr("data-nameserverid"),action:$(this).attr("data-action")})}),$(document).on("click","#add_nameserver",function(){t();var i=$(this).attr("data-id");return $("table#nameserverManagementEdit2 tbody#nameservers").append("<tr id='namesrv-"+i+"'><td>Nameserver "+i+"</td><td><input type='text' class='rd form-control input-sm' name='namesrv-"+i+"'></input><td><button class='btn btn-sm btn-default' id='remove_nameserver' data-id='namesrv-"+i+"'><i class='fa fa-trash-o'></i></buttom></td></td></tr>"),i++,$(this).attr("data-id",i),e(),!1}),$(document).on("click","#remove_nameserver",function(){t();var i=$(this).attr("data-id"),a=document.getElementById(i);return a.parentNode.removeChild(a),e(),!1}),$(document).on("click","#editNameservers",function(){a(".nameserverManagementEditResult","app/admin/nameservers/edit-result.php",$("form#nameserverManagementEdit").serialize())}),$("table#requestedIPaddresses button").click(function(){i("700","app/admin/requests/edit.php",{requestId:$(this).attr("data-requestid")})}),$(document).on("click","button.manageRequest",function(){var t=$("form.manageRequestEdit").serialize(),e=$(this).attr("data-action"),i=t+"&action="+e;a(".manageRequestResult","app/admin/requests/edit-result.php",i)}),$(".shareTemp").click(function(){return i("700","app/tools/temp-shares/edit.php",{type:$(this).attr("data-type"),id:$(this).attr("data-id")}),!1}),$(document).on("click","#shareTempSubmit",function(){a(".shareTempSubmitResult","app/tools/temp-shares/edit-result.php",$("form#shareTempEdit").serialize())}),$(".removeSharedTemp").click(function(){p("popup_w400"),a("#popupOverlay .popup_w400","app/tools/temp-shares/delete-result.php",{code:$(this).attr("data-code")}),e()}),$("form#ripeImport").submit(function(){t();var i=$(this).serialize();return $.post("app/admin/ripe-import/ripe-telnet.php",i,function(t){$("div.ripeImportTelnet").html(t).fadeIn("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","table.asImport .removeSubnet",function(){$(this).parent("tr").remove(),s()}),$(document).on("submit","form#asImport",function(){t();var i=$(this).serialize();return $.post("app/admin/ripe-import/import-subnets.php",i,function(t){$("div.ripeImportResult").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("table.asImport").delay(1e3).fadeOut("fast"),e()):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button#filterIPSave").click(function(){t();var i=$("form#filterIP").serialize();return $.post("app/admin/filter-fields/filter-result.php",i,function(t){$("div.filterIPResult").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("div.filterIPResult").delay(2e3).fadeOut("slow"),e()):e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".edit-custom-field",function(){t();var i=$(this).attr("data-action"),a=$(this).attr("data-fieldname"),n=$(this).attr("data-table");return $.post("app/admin/custom-fields/edit.php",{action:i,fieldName:a,table:n},function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#editcustomSubmit",function(){t();var e=$("form#editCustomFields").serialize();return $.post("app/admin/custom-fields/edit-result.php",e,function(t){$("div.customEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("table.customIP button.down").click(function(){
t();var e=$(this).attr("data-fieldname"),i=$(this).attr("data-nextfieldname"),a=$(this).attr("data-table");return $.post("app/admin/custom-fields/order.php",{current:e,next:i,table:a},function(t){$("div."+a+"-order-result").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".edit-custom-filter").click(function(){t();var i=$(this).attr("data-table");return $.post("app/admin/custom-fields/filter.php",{table:i},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#editcustomFilterSubmit",function(){t();var e=$("form#editCustomFieldsFilter").serialize();return $.post("app/admin/custom-fields/filter-result.php",e,function(t){$("div.customEditFilterResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button.lang").click(function(){t();var i=$(this).attr("data-langid"),a=$(this).attr("data-action");return $.post("app/admin/languages/edit.php",{langid:i,action:a},function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#langEditSubmit",function(){t();var e=$("form#langEdit").serialize();return $.post("app/admin/languages/edit-result.php",e,function(t){$("div.langEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button.wedit").click(function(){t();var i=$(this).attr("data-wid"),a=$(this).attr("data-action");return $.post("app/admin/widgets/edit.php",{wid:i,action:a},function(t){$("#popupOverlay div.popup_w500").html(t),p("popup_w500"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#widgetEditSubmit",function(){t();var e=$("form#widgetEdit").serialize();return $.post("app/admin/widgets/edit-result.php",e,function(t){$("div.widgetEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button.editAPI").click(function(){t();var i=$(this).attr("data-appid"),a=$(this).attr("data-action");return $.post("app/admin/api/edit.php",{appid:i,action:a},function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#apiEditSubmit",function(){t();var e=$("form#apiEdit").serialize();return $.post("app/admin/api/edit-result.php",e,function(t){$("div.apiEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","#regApiKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input#appcode").val(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(".editAgent").click(function(){i("700","app/admin/scan-agents/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#agentEditSubmit",function(){a(".agentEditResult","app/admin/scan-agents/edit-result.php",$("form#agentEdit").serialize())}),$(document).on("click","#regAgentKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input[name=code]").val(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button#searchReplaceSave").click(function(){t();var i=$("form#searchReplace").serialize();return $.post("app/admin/replace-fields/result.php",i,function(t){$("div.searchReplaceResult").html(t),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button#XLSdump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-xls.php'></iframe></div>"),e()}),$("button#MySQLdump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-mysql.php'></iframe></div>"),e()}),$("button#hostfileDump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-hosts.php'></iframe></div>"),e()}),$("button.dataExport").click(function(){var i=["vrf","vlan","subnets","ipaddr"],a={};a.subnets="w700",a.ipaddr="w700";var n=$("select[name=dataType]").find(":selected").val();return d(),i.indexOf(n)>-1?(t(),$.post("app/admin/import-export/export-"+n+"-field-select.php",function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),p("popup_"+a[n])):($("#popupOverlay div.popup_w400").html(t),p("popup_w400")),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#dataExportSubmit",function(){var t=$(this).attr("data-type"),e=$("form#selectExportFields").serialize();switch(t){case"vrf":$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vrf.php?"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"vlan":var i=$("form#selectExportDomains").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vlan.php?"+i+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"subnets":var a=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-subnets.php?"+a+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"ipaddr":var a=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-ipaddr.php?"+a+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500)}return!1}),$(document).on("click","input#exportSelectAll",function(){this.checked?$("input#exportCheck").each(function(){this.checked=!0}):$("input#exportCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeSectionSelectAll",function(){this.checked?$("input#recomputeSectionCheck").each(function(){this.checked=!0}):$("input#recomputeSectionCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv4SelectAll",function(){this.checked?$("input#recomputeIPv4Check").each(function(){this.checked=!0}):$("input#recomputeIPv4Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv6SelectAll",function(){this.checked?$("input#recomputeIPv6Check").each(function(){this.checked=!0}):$("input#recomputeIPv6Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeCVRFSelectAll",function(){this.checked?$("input#recomputeCVRFCheck").each(function(){this.checked=!0}):$("input#recomputeCVRFCheck").each(function(){this.checked=!1})}),$("button.dataImport").click(function(){var i=["vrf","vlan","subnets","recompute","ipaddr"],a={};a.subnets="max",a.ipaddr="max";var n=$("select[name=dataType]").find(":selected").val();return d(),i.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-select.php",function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),p("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),p("popup_w700")),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#dataImportPreview",function(){var i=["vrf","vlan","subnets","recompute","ipaddr"],a={};a.subnets="max",a.recompute="max",a.ipaddr="max";var n=$(this).attr("data-type"),o=$("form#selectImportFields").serialize();return d(),i.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-preview.php?"+o,function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),p("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),p("popup_w700")),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click","button#dataImportSubmit",function(){var i=["vrf","vlan","subnets","recompute","ipaddr"],a={};a.subnets="max",a.recompute="max",a.ipaddr="max";var n=$(this).attr("data-type"),o=$("form#selectImportFields").serialize();return d(),i.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+".php?"+o,function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),p("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),p("popup_w700")),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),p("popup_w400")}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$("button.dataRecompute").click(function(){return t(),$.post("app/admin/import-export/import-recompute-select.php",function(t){$("#popupOverlay div.popup_w700").html(t),p("popup_w700"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),$(document).on("click",".btn-tablefix",function(){var t=$(this).attr("data-tableid"),i=$(this).attr("data-fieldid"),a=$(this).attr("data-type");return $.post("app/admin/verify-database/fix.php",{tableid:t,fieldid:i,type:a},function(a){$("div#fix-result-"+t+i).html(a).fadeIn("fast"),e()}).fail(function(t,e,i){r(t.statusText+"<br>Status: "+e+"<br>Error: "+i)}),!1}),!1});