$(document).ready(function(){function t(){$("div.loading").show()}function e(){$("div.loading").fadeOut("fast")}function a(a,i,n,o){return o="undefined"!=typeof o?o:!1,t(),$.post(i,n,function(t){u("popup_w"+a,t,o),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}function i(a,i,n,o){return t(),o="undefined"!=typeof o?o:!0,$.post(i,n,function(t){$("div"+a).html(t).slideDown("fast"),o&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}function n(t){-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}function r(t){$("div.jqueryError").fadeIn("fast"),t.length>0&&$(".jqueryErrorText").html(t).show(),e()}function o(){$(".jqueryErrorText").html(),$("div.jqueryError").fadeOut("fast")}function s(){$(".tooltip").hide()}function u(e,a,i){if(t(),i===!0)var n="#popupOverlay2";else var n="#popupOverlay";$(n).fadeIn("fast"),a!==!1&&"undefined"!=typeof a&&$(n+" ."+e).html(a),1!=i&&$("#popupOverlay2 > div").empty(),$(n+" ."+e).fadeIn("fast"),$("body").addClass("stop-scrolling"),h()}function p(t,e){if(e===!0)var a="#popupOverlay2";else var a="#popupOverlay";$(a+" ."+t).fadeOut("fast"),$(a+" > div").empty(),$("body").removeClass("stop-scrolling")}function d(){$("#popupOverlay").fadeOut("fast"),$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay > div").empty(),$("#popupOverlay2 > div").empty(),$(".popup").fadeOut("fast"),$("body").removeClass("stop-scrolling"),e()}function c(){$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay2 .popup").fadeOut("fast"),$("#popupOverlay2 > div").empty(),e(),$("body").removeClass("stop-scrolling")}function l(){$(".popup_wmasks").fadeOut("fast"),e()}function f(){var t,e,a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",i="";for(t=0;10>t;t++)e=Math.floor(62*Math.random()),i+=a.charAt(e);return i}function h(){if($(".popup .pContent").is(":visible")){var t=$(window).height()-250;$(".popup .pContent").css("max-height",t)}}function v(t,e,a){var i,n;if("undefined"==typeof a)i=new Date,i.setTime(i.getTime()+24*a*60*60*1e3),n="; expires="+i.toGMTString();else var n="";document.cookie=t+"="+e+n+"; path=/"}function b(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null}function k(t,e){var a=b("sstr");if(("undefined"==typeof a||null==a||0===a.length)&&(a="|"),"add"==t){for(var i=a.split("|"),n=!1,r=0;r<i.length;r++)i[r]==e&&(n=!0);0==n&&(a+=e+"|")}else"remove"==t&&(a=a.replace("|"+e+"|","|"));v("sstr",a,365)}function g(e){if(t(),"topmenu"==e)var a=$(".searchInput").val(),i="searchSelect";else var a=$("form#search .search").val(),i="search";a=a.replace(/\//g,"%252F");var n=$("#"+i+" input[name=addresses]").is(":checked")?"on":"off",r=$("#"+i+" input[name=subnets]").is(":checked")?"on":"off",o=$("#"+i+" input[name=vlans]").is(":checked")?"on":"off",s=$("#"+i+" input[name=vrf]").is(":checked")?"on":"off",u=$("#"+i+" input[name=pstn]").is(":checked")?"on":"off",p=$("#"+i+" input[name=circuits]").is(":checked")?"on":"off";v("search_parameters",'{"addresses":"'+n+'","subnets":"'+r+'","vlans":"'+o+'","vrf":"'+s+'","pstn":"'+u+'","circuits":"'+p+'"}',365);var d=window.navigator.userAgent,c=d.indexOf("MSIE ");if(c>0||navigator.userAgent.match(/Trident.*rv\:11\./))var l=$(".iebase").html();else var l="";var m=$("#prettyLinks").html();"Yes"==m?window.location=l+"tools/search/"+a:window.location=l+"?page=tools&section=search&ip="+a}return $(document).keydown(function(t){27===t.keyCode&&d()}),$(document).on("submit",".searchFormClass",function(){return!1}),$(".show_popover").popover(),$("div.jqueryError").hide(),$(document).on("click","#hideError",function(){return o(),!1}),$(".disabled a").click(function(){return!1}),$(document).on("click",".hidePopups",function(){d()}),$(document).on("click",".hidePopup2",function(){c()}),$(document).on("click",".hidePopupMasks",function(){l()}),$(document).on("click",".hidePopupsReload",function(){window.location.reload()}),$("a.disabled, button.disabled").click(function(){return!1}),$("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),h(),$(window).resize(function(){h()}),$(document).on("click",".selfDestruct",function(){$(this).parent("div").fadeOut("fast")}),$(function(){$(".popup").draggable({handle:".pHeader"})}),null==b("table-page-size")?def_size=25:def_size=b("table-page-size"),$("table.sorted").bdt({pageRowCount:def_size,searchFormClass:"form-inline pull-right searchFormClass",divClass:"text-right"}),$("table.sorted-left").bdt({pageRowCount:def_size,searchFormClass:"form-inline pull-left searchFormClass clearfix",divClass:"text-left clearfix"}),$("table.sorted").stickyTableHeaders(),$("table.sorted-new").attr("data-toggle","table").attr("data-pagination","true").attr("data-page-size","50").attr("data-page-list","[25,50,100,250,500]").attr("data-search","true").attr("data-classes","table-no-bordered").attr("data-icon-size","sm").attr("data-show-footer","false").attr("data-show-columns","true").attr("data-icons-prefix","fa").attr("data-show-toggle","true").attr("data-icons","icons").attr("data-cookie","true"),$("table.sorted-new-notoggle").attr("data-show-toggle","false"),$("table.sorted-new-nocolumns").attr("data-show-columns","false"),window.icons={refresh:"fa-refresh",toggle:"fa-toggle-on",columns:"fa-th-list"},$("li.disabled a").click(function(){return!1}),$("form.search-form").submit(function(){return!1}),$(document).on("click",".open_popup",function(){var t={},e=!1,i="400",n="";return $.each(this.attributes,function(){"data-script"==this.name?n=this.value:"data-class"==this.name?i=this.value:"data-secondary"==this.name?e=!0:-1!==this.name.indexOf("data-")&&(t[this.name.replace("data-","")]=this.value)}),""==n?r("Error: Missing target_script"):a(i,n,t,e),!1}),$(document).on("click",".submit_popup",function(){var t={},e=!0,a="",n="";return $.each(this.attributes,function(){"data-script"==this.name?n=this.value:"data-result_div"==this.name?a="#"+this.value:"data-noreload"==this.name?e=!1:"data-form"==this.name&&(t=$("form#"+this.value).serialize())}),""==n?r("Error: Missing target_script"):""==a?r("Error: Missing result div parameter"):i(a,n,t,e),!1}),$("#dashboard").length>0&&$('div[id^="w-"]').each(function(){var t=$(this).attr("id");t=t.replace("w-",""),$.post("app/dashboard/widgets/"+t+".php",function(e){$("#w-"+t+" .hContent").html(e)}).fail(function(e,a,i){$.post("app/dashboard/widgets/custom/"+t+".php",function(e){$("#w-"+t+" .hContent").html(e)}).fail(function(e,a,i){$("#w-"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')})})}),$(document).on("click","i.remove-widget",function(){$(this).parent().parent().fadeOut("fast").remove()}),$(document).on("click","#sortablePopup li a.widget-add",function(){var t=$(this).attr("id"),e=$(this).attr("data-size"),a=$(this).attr("data-htitle"),i='<div class="row-fluid"><div class="span'+e+' widget-dash" id="'+t+'"><div class="inner movable"><h4>'+a+'</h4><div class="hContent"></div></div></div></div>';return $("#dashboard").append(i),w=t.replace("w-",""),$.post("app/dashboard/widgets/"+w+".php",function(e){$("#"+t+" .hContent").html(e)}).fail(function(e,a,i){$("#"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')}),$(this).parent().fadeOut("fast"),!1}),$(".removeMaintaneance").click(function(){a("400","app/admin/settings/remove-maintaneance.php","",!1)}),$("ul.submenu.submenu-close").hide(),$(".icon-folder-close,.icon-folder-show, .icon-search").tooltip({delay:{show:2e3,hide:0},placement:"bottom"}),$("ul#subnets").on("click",".fa-folder-close-o",function(){$(this).removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(this).nextAll(".submenu").slideDown("fast"),k("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder",function(){$(this).removeClass("fa-folder").addClass("fa-folder-open"),$(this).nextAll(".submenu").slideDown("fast"),k("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open-o",function(){$(this).removeClass("fa-folder-open-o").addClass("fa-folder-close-o"),$(this).nextAll(".submenu").slideUp("fast"),k("remove",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open",function(){$(this).removeClass("fa-folder-open").addClass("fa-folder"),$(this).nextAll(".submenu").slideUp("fast"),k("remove",$(this).attr("data-str_id"))}),$("#expandfolders").click(function(){var t=$(this).attr("data-action");"close"==t?($(".subnets ul#subnets li.folder > i").removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").removeClass("fa-folder").addClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").removeClass("submenu-close").addClass("submenu-open").slideDown("fast"),$(this).attr("data-action","open"),v("expandfolders","1","365"),$(this).removeClass("fa-expand").addClass("fa-compress")):($(".subnets ul#subnets li.folder > i").addClass("fa-folder-close-o").removeClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").addClass("fa-folder").removeClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").addClass("submenu-close").removeClass("submenu-open").slideUp("fast"),$(this).attr("data-action","close"),v("expandfolders","0","365"),$(this).removeClass("fa-compress").addClass("fa-expand"))}),$(document).on("click",".modIPaddr",function(){t();var a=$(this).attr("data-action"),i=$(this).attr("data-id"),n=$(this).attr("data-subnetId"),o=$(this).attr("data-stopIP"),s="action="+a+"&id="+i+"&subnetId="+n+"&stopIP="+o;return $.post("app/subnets/addresses/address-modify.php",s,function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.moveIPaddr",function(){t();var a=$(this).attr("data-action"),i=$(this).attr("data-id"),n=$(this).attr("data-subnetId"),o="action="+a+"&id="+i+"&subnetId="+n;return $.post("app/subnets/addresses/move-address.php",o,function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#refreshHostname",function(){t();var a=$("input.ip_addr").val(),i=$(this).attr("data-subnetId");$.post("app/subnets/addresses/address-resolve.php",{ipaddress:a,subnetId:i},function(t){0!==t.length&&$("input[name=dns_name]").val(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","button#editIPAddressSubmit, .editIPSubmitDelete",function(){t();var e=$("form.editipaddress").serialize();return"editIPSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes&action=delete"),"all-delete"==$(this).attr("data-action")&&(e+="&action-visual=delete"),$.post("app/subnets/addresses/address-modify-submit.php",e,function(t){$("div.addnew_check").html(t),$("div.addnew_check").slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".ping_ipaddress",function(){t();var a=$(this).attr("data-id"),i=$(this).attr("data-subnetId");return $(this).hasClass("ping_ipaddress_new")&&(a=$("input[name=ip_addr]").val()),$.post("app/subnets/addresses/ping-address.php",{id:a,subnetId:i},function(t){$("#popupOverlay2 div.popup_w400").html(t),u("popup_w400",!1,!0),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.mail_ipaddress",function(){var t=$(this).attr("data-id");return $.post("app/subnets/addresses/mail-notify.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#mailIPAddressSubmit",function(){t();var e=$("form#mailNotify").serialize();return $.post("app/subnets/addresses/mail-notify-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.mail_subnet",function(){var t=$(this).attr("data-id");return $.post("app/subnets/mail-notify-subnet.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#mailSubnetSubmit",function(){t();var e=$("form#mailNotifySubnet").serialize();return $.post("app/subnets/mail-notify-subnet-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table.ipaddresses th a").click(function(){return!1}),$("a.scan_subnet").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/scan/subnet-scan.php",{subnetId:a},function(t){$("#popupOverlay div.popup_wmasks").html(t),u("popup_wmasks"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","table.table-scan select#type",function(){var t=$("select[name=type]").find(":selected").val();"scan-telnet"==t?$("tbody#telnetPorts").show():$("tbody#telnetPorts").hide()}),$(document).on("change","table.table-scan select#type",function(){var t=$(this).find(":selected").val();v("scantype",t,32)}),$(document).on("click","#subnetScanSubmit",function(){t(),$("#subnetScanResult").slideUp("fast");var a=$(this).attr("data-subnetId"),i=$("select[name=type]").find(":selected").val();if($("input[name=debug]").is(":checked"))var n=1;else var n=0;var o=$("input[name=telnetports]").val();return $("#alert-scan").slideUp("fast"),$.post("app/subnets/scan/subnet-scan-execute.php",{subnetId:a,type:i,debug:n,port:o},function(t){$("#subnetScanResult").html(t).slideDown("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".resultRemove",function(){$(this).hasClass("resultRemoveMac")&&($(this).parent().parent().find("span.ip-address").hasClass("hidden")||$(this).parent().parent().next().find("span.ip-address").removeClass("hidden"));var t=$(this).attr("data-target");return $("tr."+t).remove(),!1}),$(document).on("click","a#saveScanResults",function(){t();var e=$(this).attr("data-script"),a=$(this).attr("data-subnetId"),i=$("form."+e+"-form").serialize(),i=i+"&subnetId="+a;return $.post("app/subnets/scan/subnet-"+e+"-result.php",i,function(t){$("#subnetScanAddResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("a.csvImport").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/import-subnet/index.php",{subnetId:a},function(t){$("div.popup_max").html(t),u("popup_max"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","input#csvimportcheck",function(){t();var a=$("span.fname").html(),i=$("a.csvImport").attr("data-subnetId");$.post("app/subnets/import-subnet/print-file.php",{filetype:a,subnetId:i},function(t){$("div.csvimportverify").html(t).slideDown("fast"),e(),$(".importFooter").removeClass("hidePopups").addClass("hidePopupsReload")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","input#csvImportNo",function(){$("div.csvimportverify").hide("fast")}),$(document).on("click","input#csvImportYes",function(){t();var a=$("span.fname").html();if($("input[name=ignoreErrors]").is(":checked"))var i="1";else var i="0";var n=$("a.csvImport").attr("data-subnetId"),o="subnetId="+n+"&filetype="+a+"&ignoreError="+i;$.post("app/subnets/import-subnet/import-file.php",o,function(t){$("div.csvImportResult").html(t).slideDown("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","#csvtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/import-subnet/import-template.php'></iframe></div>"),!1}),$(document).on("click","#vrftemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vrf'></iframe></div>"),!1}),$(document).on("click","#vlanstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlans'></iframe></div>"),!1}),$(document).on("click","#vlandomaintemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlandomain'></iframe></div>"),!1}),$(document).on("click","#subnetstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=subnets'></iframe></div>"),!1}),$(document).on("click","#ipaddrtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=ipaddr'></iframe></div>"),!1}),$(document).on("click","#devicestemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devices'></iframe></div>"),!1}),$(document).on("click","#devicetypestemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devicetypes'></iframe></div>"),!1}),$("a.csvExport").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/addresses/export-field-select.php",{subnetId:a},function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#exportSubnet",function(){var t=$("a.csvExport").attr("data-subnetId"),e=$("form#selectExportFields").serialize();return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/addresses/export-subnet.php?subnetId="+t+"&"+e+"'></iframe></div>"),!1}),$(document).on("click","a.editFavourite",function(){var t=$(this).attr("data-subnetId"),a=$(this).attr("data-action"),i=$(this).attr("data-from"),n=$(this);return $.post("app/tools/favourites/favourite-edit.php",{subnetId:t,action:a,from:i},function(r){"success"==r&&"widget"==i?($("tr.favSubnet-"+t).addClass("error"),$("tr.favSubnet-"+t).delay(200).fadeOut()):"success"==r?($(this).toggleClass("btn-info"),$("a.favourite-"+t+" i").toggleClass("fa-star-o"),$(n).toggleClass("btn-info"),"remove"==a?($("a.favourite-"+t).attr("data-original-title","Click to add to favourites"),$(n).attr("data-action","add")):($("a.favourite-"+t).attr("data-original-title","Click to remove from favourites"),$(n).attr("data-action","remove"))):($("#popupOverlay div.popup_w500").html(r),u("popup_w500"),e())}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("a.request_ipaddress").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/tools/request-ip/index.php",{subnetId:a},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#requestIP_widget",function(){t();var a=$("select#subnetId option:selected").attr("value"),i=document.getElementById("ip_addr_widget").value;return $.post("app/tools/request-ip/index.php",{subnetId:a,ip_addr:i},function(t){$("div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","select#subnetId",function(){t();var a=$("select#subnetId option:selected").attr("value");$.post("app/login/request_ip_first_free.php",{subnetId:a},function(t){$("input.ip_addr").val(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","button#requestIPAddressSubmit",function(){t();var e=$("form#requestIP").serialize();return $.post("app/login/request_ip_result.php",e,function(t){$("div#requestIPresult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#ipCalc").submit(function(){t();var a=$(this).serialize();return $.post("app/tools/ip-calculator/result.php",a,function(t){$("div.ipCalcResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#ipCalc input.reset").click(function(){$('form#ipCalc input[type="text"]').val(""),$("div.ipCalcResult").fadeOut("fast")}),$(".searchSubmit").click(function(){return g("topmenu"),!1}),$("form#userMenuSearch").submit(function(){return g("topmenu"),!1}),$("form#search").submit(function(){return g("search"),!1}),$("a.search_ipaddress").click(function(){v("search_parameters",'{"addresses":"on","subnets":"off","vlans":"off","vrf":"off","pstn":"off","circuits":"off"}',365)}),$(document).on("mouseenter","#userMenuSearch",function(t){var e=$("#searchSelect");e.slideDown("fast")}),$(document).on("mouseleave","#user_menu",function(t){$(this).stop();var e=$("#searchSelect");e.slideUp()}),$(document).on("click","#exportSearch",function(t){var e=$(this).attr("data-post");return $("div.dl").remove(),$("div.exportDIVSearch").append("<div style='display:none' class='dl'><iframe src='app/tools/search/search-results-export.php?ip="+e+"'></iframe></div>"),!1}),$("#hosts").submit(function(){t();var e=$("input.hostsFilter").val(),a=$("#prettyLinks").html();return"Yes"==a?window.location=base+"tools/hosts/"+e:window.location=base+"?page=tools&section=hosts&ip="+e,!1}),$("form#userModSelf").submit(function(){var t=$(this).serialize();return $("div.userModSelfResult").hide(),$.post("app/tools/user-menu/user-edit.php",t,function(t){$("div.userModSelfResult").html(t).fadeIn("fast").delay(2e3).fadeOut("slow")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#randomPassSelf",function(){var t=f();return $("input.userPass").val(t),$("#userRandomPass").html(t),!1}),$("form#cform").submit(function(){t();var e=$("form#cform .climit").val(),a=$("form#cform .cfilter").val(),i=$("#prettyLinks").html();return"Yes"==i?window.location="tools/changelog/"+a+"/"+e+"/":window.location="?page=tools&section=changelog&subnetId="+a+"&sPage="+e,!1}),$("form#changePassRequiredForm").submit(function(){t();var a=$("#ipampassword1",this).val(),i=$("#ipampassword2",this).val(),n="ipampassword1="+a+"&ipampassword2="+i;return $.post("app/tools/pass-change/result.php",n,function(t){$("div#changePassRequiredResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".show-masks",function(){return a("masks","app/tools/subnet-masks/popup.php",{closeClass:$(this).attr("data-closeClass")},!0),!1}),$("#settings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/settings/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#upload-logo").click(function(){return csrf_cookie=$("form#settings input[name=csrf_cookie]").val(),a("700","app/admin/settings/logo/logo-uploader.php",{csrf_cookie:csrf_cookie},!1),!1}),$(document).on("click",".logo-clear",function(){$.post("app/admin/settings/logo/logo-clear.php","",function(t){$("div.logo-current").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$("#mailsettings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/mail/edit.php",e,function(t){$("div.settingsMailEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("select#mtype").change(function(){var t=$(this).find(":selected").val();"localhost"===t?$("#mailsettingstbl tbody#smtp").hide():$("#mailsettingstbl tbody#smtp").show()}),$(".sendTestMail").click(function(){t();var a=$("form#mailsettings").serialize();return $.post("app/admin/mail/test-mail.php",a,function(t){$("div.settingsMailEdit").html(t).slideDown("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".editUser").click(function(){t();var a=$(this).attr("data-userid"),i=$(this).attr("data-action");return $.post("app/admin/users/edit.php",{id:a,action:i},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editUserSubmit",function(){t();var e=$("form#usersEdit").serialize();return $.post("app/admin/users/edit-result.php",e,function(t){$("div.usersEditResult").html(t).show(),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","form#usersEdit select[name=authMethod]",function(){var t=$("select[name=authMethod]").find(":selected").val();"1"==t?$("tbody#user_password").show():$("tbody#user_password").hide()}),$(document).on("change","form#usersEdit select[name=role]",function(){var t=$("form#usersEdit select[name=role]").find(":selected").val();"Administrator"==t?$("tbody#user_notifications").show():$("tbody#user_notifications").hide()}),$(document).on("click","a#randomPass",function(){var t=f();return $("input.userPass").val(t),$(this).html(t),!1}),$(document).on("click",".adsearchuser",function(){$("#popupOverlay2 .popup_w500").load("app/admin/users/ad-search-form.php"),u("popup_w500",!1,!0),e()}),$(document).on("click","#adsearchusersubmit",function(){t();var a=$("#dusername").val(),i=$("#adserver").find(":selected").val();$.post("app/admin/users/ad-search-result.php",{dname:a,server:i},function(t){$("div#adsearchuserresult").html(t),e()})}),$(document).on("click",".userselect",function(){var t=$(this).attr("data-uname"),e=$(this).attr("data-username"),a=$(this).attr("data-email"),i=$(this).attr("data-server"),n=$(this).attr("data-server-type");return $("form#usersEdit input[name=real_name]").val(t),$("form#usersEdit input[name=username]").val(e),$("form#usersEdit input[name=email]").val(a),$("form#usersEdit select[name=authMethod]").val(i),$("tbody#user_password").hide(),("AD"==n||"LDAP"==n)&&$.post("app/admin/users/ad-search-result-groups-membership.php",{server:i,username:e},function(t){if(t.length>0){var e=t.replace(/\s/g,"");for(e=e.split(";"),m=0;m<e.length;++m)$("input[name='group"+e[m]+"']").attr("checked","checked")}}),c(),!1}),$(document).on("click",".adLookup",function(){$("#popupOverlay div.popup_w700").load("app/admin/groups/ad-search-group-form.php"),u("popup_w700"),e()}),$(document).on("click","#adsearchgroupsubmit",function(){t();var a=$("#dfilter").val(),i=$("#adserver").find(":selected").val();$.post("app/admin/groups/ad-search-group-result.php",{dfilter:a,server:i},function(t){$("div#adsearchgroupresult").html(t),e()})}),$(document).on("click",".groupselect",function(){t();var a=$(this).attr("data-gname"),i=$(this).attr("data-gdescription"),n=$(this).attr("data-members"),r=$(this).attr("data-gid"),o=$(this).attr("data-csrf_cookie");return $.post("app/admin/groups/edit-group-result.php",{action:"add",g_name:a,g_desc:i,gmembers:n,csrf_cookie:o},function(t){$("div.adgroup-"+r).html(t),e()}),!1}),$(".editGroup").click(function(){t();var a=$(this).attr("data-groupid"),i=$(this).attr("data-action");return $.post("app/admin/groups/edit-group.php",{id:a,action:i},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editGroupSubmit",function(){t();var e=$("form#groupEdit").serialize();return $.post("app/admin/groups/edit-group-result.php",e,function(t){$("div.groupEditResult").html(t).show(),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".addToGroup").click(function(){t();var a=$(this).attr("data-groupid");return $.post("app/admin/groups/add-users.php",{g_id:a},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#groupAddUsersSubmit",function(){t();var e=$("#groupAddUsers").serialize();return $.post("app/admin/groups/add-users-result.php",e,function(t){$("div.groupAddUsersResult").html(t).show(),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".removeFromGroup").click(function(){t();var a=$(this).attr("data-groupid");return $.post("app/admin/groups/remove-users.php",{g_id:a},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#groupRemoveUsersSubmit",function(){t();var e=$("#groupRemoveUsers").serialize();return $.post("app/admin/groups/remove-users-result.php",e,function(t){$("div.groupRemoveUsersResult").html(t).show(),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".editAuthMethod").click(function(){t();var a=$(this).attr("data-id"),i=$(this).attr("data-action"),n=$(this).attr("data-type");return $.post("app/admin/authentication-methods/edit.php",{id:a,action:i,type:n},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editAuthMethodSubmit",function(){t();var e=$("form#editAuthMethod").serialize();return $.post("app/admin/authentication-methods/edit-result.php",e,function(t){$("div.editAuthMethodResult").html(t).show(),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".checkAuthMethod").click(function(){t();var a=$(this).attr("data-id");return $.post("app/admin/authentication-methods/check-connection.php",{id:a},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#instructionsForm").submit(function(){var a=$("#instructionsForm input[name=csrf_cookie]").val(),i=$("#instructionsForm input[name=id]").val(),n=CKEDITOR.instances.instructions.getData();return $("div.instructionsPreview").hide("fast"),t(),$.post("app/admin/instructions/edit-result.php",{instructions:n,csrf_cookie:a,id:i},function(t){$("div.instructionsResult").html(t).fadeIn("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("div.instructionsResult").delay(2e3).fadeOut("slow"),e()):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#preview").click(function(){t();var a=CKEDITOR.instances.instructions.getData();return $.post("app/admin/instructions/preview.php",{instructions:a},function(t){$("div.instructionsPreview").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#logs").change(function(){t();var a=$("form#logs").serialize();$.post("app/tools/logs/show-logs.php",a,function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","a.openLogDetail",function(){var t=$(this).attr("data-logid");return $.post("app/tools/logs/detail-popup.php",{id:t},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){
r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#logDirection button").click(function(){t();var a,i=$("form#logs").serialize(),n=$(this).attr("data-direction");a="next"==n?$("table#logs tr:last").attr("id"):$("table#logs tr:nth-child(2)").attr("id");var o=i+"&direction="+n+"&lastId="+a;return $.post("app/tools/logs/show-logs.php",o,function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#downloadLogs").click(function(){return t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/logs/export.php'></iframe></div>"),e(),$("div.logs").prepend("<div class='alert alert-info' id='logsInfo'><i class='icon-remove icon-gray selfDestruct'></i> Preparing download... </div>"),!1}),$("#clearLogs").click(function(){return t(),$.post("app/tools/logs/clear-logs.php",function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".log-tabs li a").click(function(){return $(".log-tabs li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.log-print").hide(),$("div."+$(this).attr("data-target")).show(),!1}),$(document).on("click",".openChangelogDetail",function(){a("700","app/tools/changelog/show-popup.php",{cid:$(this).attr("data-cid")})}),$("button.editSection").click(function(){t();var a=$(this).attr("data-sectionid"),i=$(this).attr("data-action");$.post("app/admin/sections/edit.php",{sectionId:a,action:i},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","#editSectionSubmit, .editSectionSubmitDelete",function(){t();var e=$("form#sectionEdit").serialize();return"editSectionSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes"),$.post("app/admin/sections/edit-result.php",e,function(t){$("div.sectionEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.sectionOrder").click(function(){return t(),$.post("app/admin/sections/edit-order.php",function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#sectionOrderSubmit",function(){t();var e=$("#sortableSec li").map(function(t,e){var a=$(this).index()+1;return $(e).attr("id")+":"+a}).get().join(";");return $.post("app/admin/sections/edit-order-result.php",{position:e},function(t){$(".sectionOrderResult").html(t).fadeIn("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#pdns-settings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/powerDNS/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#pdns-defaults").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/powerDNS/defaults-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editDomain",function(){$(this).hasClass("editDomain2")?a("700","app/admin/powerDNS/domain-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action"),secondary:!0},!0):a("700","app/admin/powerDNS/domain-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click",".hideDefaults",function(){$(this).is(":checked")?$("tbody.defaults").hide():$("tbody.defaults").show()}),$(document).on("click","#editDomainSubmit",function(){return $(this).hasClass("editDomainSubmit2")?(t(),$.post("app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize(),function(t){$("#popupOverlay2 div.domain-edit-result").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/powerDNS/record-edit.php",{id:$("#popupOverlay .pContent .ip_dns_addr").html(),domain_id:$("#popupOverlay .pContent strong").html(),action:"add"},function(t){$("#popupOverlay .popup_w700").html(t)}),setTimeout(function(){$("#popupOverlay2").fadeOut("fast")},1500),setTimeout(function(){e()},1500)):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1):void i(".domain-edit-result","app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize())}),$(".refreshPTRsubnet").click(function(){return a("700","app/admin/powerDNS/refresh-ptr-records.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".refreshPTRsubnetSubmit",function(){return i(".refreshPTRsubnetResult","app/admin/powerDNS/refresh-ptr-records-submit.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(".editRecord").click(function(){return a("700","app/admin/powerDNS/record-edit.php",{id:$(this).attr("data-id"),domain_id:$(this).attr("data-domain_id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editRecordSubmit",function(){i(".record-edit-result","app/admin/powerDNS/record-edit-result.php",$("form#recordEdit").serialize())}),$(document).on("click","#editRecordSubmitDelete",function(){var t=$("form#recordEdit").serialize();t=t.replace("action=edit","action=delete"),i(".record-edit-result","app/admin/powerDNS/record-edit-result.php",t)}),$("#firewallZoneSettings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/firewall-zones/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFirewallZone",function(){a("700","app/admin/firewall-zones/zones-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editZoneSubmit",function(){i(".zones-edit-result","app/admin/firewall-zones/zones-edit-result.php",$("form#zoneEdit").serialize())}),$(document).on("click",".subnet_to_zone",function(){t();var a=$(this).attr("data-subnetId"),i=$(this).attr("data-operation"),n="operation="+i+"&subnetId="+a;return $.post("app/admin/firewall-zones/subnet-to-zone.php",n,function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#subnet-to-zone-submit",function(){i(".subnet-to-zone-result","app/admin/firewall-zones/subnet-to-zone-save.php",$("form#subnet-to-zone-edit").serialize())}),$(document).on("change",".checkMapping",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"checkMapping"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.mappingAdd").html(t).slideDown("fast")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click",".editNetwork",function(){var t=$("form#zoneEdit").serializeArray();t.push({name:"action",value:$(this).attr("data-action")}),t.push({name:"subnetId",value:$(this).attr("data-subnetId")}),$("#popupOverlay2 .popup_w500").load("app/admin/firewall-zones/zones-edit-network.php",t),u("popup_w500",!1,!0),e()}),$(document).on("click",".deleteTempNetwork",function(){t();var a="network["+$(this).attr("data-subnetArrayKey")+"]",i=$('form#zoneEdit :input[name != "'+a+'"][name *= "network["]').serializeArray();return i.push({name:"noZone",value:1}),$.post("app/admin/firewall-zones/ajax.php",i,function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e()},500),!1}),$(document).on("click","#editNetworkSubmit",function(){return t(),reload="undefined"!=typeof reload?reload:!0,$.post("app/admin/firewall-zones/zones-edit-network-result.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zones-edit-network-result").html(t).slideDown("fast"),reload&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/firewall-zones/ajax.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e(),c()},500)):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change",".firewallZoneSection",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"fetchSectionSubnets"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.sectionSubnets").html(t).slideDown("fast")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click",".editMapping",function(){return a("700","app/admin/firewall-zones/mapping-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editMappingSubmit",function(){i(".mapping-edit-result","app/admin/firewall-zones/mapping-edit-result.php",$("form#mappingEdit").serialize())}),$(document).on("change",".mappingZoneInformation",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"deliverZoneDetail"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.zoneInformation").html(t).slideDown("fast")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click","a.fw_autogen",function(){var a=$(this).attr("data-subnetid"),i=$(this).attr("data-ipid"),n=$(this).attr("data-dnsname"),o=$(this).attr("data-action"),s="autogen";return t(),$.post("app/admin/firewall-zones/ajax.php",{subnetId:a,IPId:i,dnsName:n,action:o,operation:s}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e(),window.location.reload()},500),!1}),$('table#manageSubnets button[id^="subnet-"]').click(function(){t();var a=$(this).attr("id");$("#content-"+a).is(":visible")?$(this).children("i").removeClass("fa-angle-down").addClass("fa-angle-right"):$(this).children("i").removeClass("fa-angle-right").addClass("fa-angle-down"),$("table#manageSubnets tbody#content-"+a).slideToggle("fast"),e()}),$("#toggleAllSwitches").click(function(){t(),$(this).children().hasClass("fa-compress")?($(this).children().removeClass("fa-compress").addClass("fa-expand"),$("table#manageSubnets i.fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-right"),$('table#manageSubnets tbody[id^="content-subnet-"]').hide(),v("showSubnets",0,30)):($(this).children().removeClass("fa-expand").addClass("fa-compress"),$('table#manageSubnets tbody[id^="content-subnet-"]').show(),$("table#manageSubnets i.fa-angle-right").removeClass("fa-angle-right").addClass("fa-angle-down"),v("showSubnets",1,30)),e()}),$("button.editSubnet").click(function(){t();var a=$(this).attr("data-sectionid"),i=$(this).attr("data-subnetid"),n=$(this).attr("data-action"),o="sectionId="+a+"&subnetId="+i+"&action="+n;$.post("app/admin/subnets/edit.php",o,function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","#resize, #split, #truncate, .subnet-truncate",function(){t();var a=$(this).attr("id"),i=$(this).attr("data-subnetId");return $.post("app/admin/subnets/"+a+".php",{action:a,subnetId:i},function(t){u("popup_w500",t,!0),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetResizeSubmit",function(){t();var e=$("form#subnetResize").serialize();return $.post("app/admin/subnets/resize-save.php",e,function(t){$("div.subnetResizeResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetSplitSubmit",function(){t();var e=$("form#subnetSplit").serialize();return $.post("app/admin/subnets/split-save.php",e,function(t){$("div.subnetSplitResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetTruncateSubmit",function(){t();var e=$(this).attr("data-subnetId"),a=$(this).attr("data-csrf_cookie");return $.post("app/admin/subnets/truncate-save.php",{subnetId:e,csrf_cookie:a},function(t){$("div.subnetTruncateResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("submit","#editSubnetDetails",function(){return!1}),$(document).on("click",".editSubnetSubmit, .editSubnetSubmitDelete",function(){t();var a=$("form#editSubnetDetails").serialize();return $(this).hasClass("editSubnetSubmitDelete")&&(a=a.replace("action=edit","action=delete")),"editSubnetSubmitDelete"==$(this).attr("id")&&(a+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-result.php",a,function(i){if($("div.manageSubnetEditResult").html(i).slideDown("fast"),-1==i.search("alert-danger")&&-1==i.search("error")){t();var n,r;if(-1!=a.search("IPaddresses"))if(n=$("form#editSubnetDetails input[name=sectionId]").val(),r=$("form#editSubnetDetails input[name=subnetId]").val(),"undefined"!==$(".subnet_id_new").html()){var o=$(".subnet_id_new").html();if(o%1===0){var s=$(".section_id_new").html(),u=window.navigator.userAgent,p=u.indexOf("MSIE ");if(p>0||navigator.userAgent.match(/Trident.*rv\:11\./))var d=$(".iebase").html();else var d="";var c=$("#prettyLinks").html();"Yes"==c?setTimeout(function(){window.location=d+"subnets/"+s+"/"+o+"/"},1500):setTimeout(function(){window.location=d+"?page=subnets&section="+s+"&subnetId="+o},1500)}else setTimeout(function(){window.location.reload()},1500)}else setTimeout(function(){window.location.reload()},1500);else-1!=a.search("freespace")?setTimeout(function(){window.location.reload()},1500):-1!=a.search("ipcalc")||setTimeout(function(){window.location.reload()},1500)}else e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#get-ripe",function(){t();var a=$("form#editSubnetDetails input[name=subnet]").val();return $.post("app/admin/subnets/ripe-query.php",{subnet:a},function(t){u("popup_w500",t,!0),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#ripeMatchSubmit",function(){var t=$("form#ripe-fields").serialize(),e=t.split("&");for(index=0;index<e.length;++index)if(e[index].indexOf("=0")>-1);else{console.log(e[index]);var a=e[index].split("=");$("form#editSubnetDetails input[name="+a[1]+"]").val(a[0].replace(/___/g," "))}c()}),$(".showSubnetPerm").click(function(){t();var a=$(this).attr("data-subnetId"),i=$(this).attr("data-sectionId");return $.post("app/admin/subnets/permissions-show.php",{subnetId:a,sectionId:i},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editSubnetPermissionsSubmit",function(){t();var e=$("form#editSubnetPermissions").serialize();return $.post("app/admin/subnets/permissions-submit.php",e,function(t){$(".editSubnetPermissionsResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".dropdown-subnets li a",function(){var t=$(this).attr("data-cidr"),e=$("form#editSubnetDetails input[name=subnet]");return $(e).val(t),$(".dropdown-subnets").parent().removeClass("open"),!1}),$(".editSubnetLink").click(function(){return t(),$.post("app/admin/subnets/linked-subnet.php",{subnetId:$(this).attr("data-subnetId")},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".linkSubnetSave",function(){return t(),$.post("app/admin/subnets/linked-subnet-submit.php",$("form#editLinkedSubnet").serialize(),function(t){$(".linkSubnetSaveResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#createSubnetFromCalc",function(){$("tr#selectSection").show()}),$(document).on("change","select#selectSectionfromIPCalc",function(){var t=$(this).val(),a=$("table.ipCalcResult td#sub2").html(),i=$("table.ipCalcResult td#sub4").html();if("IPv6"==$("table.ipCalcResult td#sub0").html())var n="sectionId="+t+"&subnet="+$("table.ipCalcResult td#sub3").html()+"&bitmask=&action=add&location=ipcalc";else var n="sectionId="+t+"&subnet="+a+"&bitmask="+i+"&action=add&location=ipcalc";$("table.newSections ul#sections li#"+t).addClass("active"),$.post("app/admin/subnets/edit.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click",".createfromfree",function(){var t=$(this).attr("data-sectionId"),a=$(this).attr("data-cidr"),i=$(this).attr("data-masterSubnetId"),n=a.split("/"),o=n[0],s=n[1],p="sectionId="+t+"&subnet="+o+"&bitmask="+s+"&freespaceMSID="+i+"&action=add&location=ipcalc";return $.post("app/admin/subnets/edit.php",p,function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".edit_subnet, button.edit_subnet, button#add_subnet",function(){var t=$(this).attr("data-subnetId"),a=$(this).attr("data-sectionId"),i=$(this).attr("data-action"),n="sectionId="+a+"&subnetId="+t+"&action="+i+"&location=IPaddresses";return $.post("app/admin/subnets/edit.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","select[name=vlanId]",function(){var a=$("select[name=vlanId] option:selected").attr("data-domain");return"Add"==$(this).val()&&(t(),$.post("app/admin/vlans/edit.php",{action:"add",fromSubnet:"true",domain:a},function(t){u("popup_w400",t,!0),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})),!1}),$(document).on("click",".vlanManagementEditFromSubnetButton",function(){t();var a=$("form#vlanManagementEditFromSubnet").serialize();return $.post("app/admin/vlans/edit-result.php",a,function(t){if($("div.vlanManagementEditFromSubnetResult").html(t).show(),-1==t.search("alert-danger")&&-1==t.search("error")){var a=$("#vlanidforonthefly").html(),i=$("#editSubnetDetails input[name=sectionId]").val();$.post("app/admin/subnets/edit-vlan-dropdown.php",{vlanId:a,sectionId:i},function(t){$(".editSubnetDetails td#vlanDropdown").html(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){p("popup_w400",!0),c(),parameter=null},1e3)}else e()}),!1}),$(".vlansearchsubmit").click(function(){t();var e=$("input.vlanfilter").val(),a=$("input.vlanfilter").attr("data-location"),i=$("#prettyLinks").html();"Yes"==i?setTimeout(function(){window.location=a+e+"/"},500):setTimeout(function(){window.location=a+"&sPage="+e},500);var i=$("#prettyLinks").html();return"Yes"==i?setTimeout(function(){window.location=base+"subnets/"+section_id_new+"/"+subnet_id_new+"/"},1500):setTimeout(function(){window.location=base+"?page=subnets&section="+section_id_new+"&subnetId="+subnet_id_new},1500),!1}),$("#add_folder, .add_folder").click(function(){t();var a=$(this).attr("data-subnetId"),i=$(this).attr("data-sectionId"),n=$(this).attr("data-action"),o="sectionId="+i+"&subnetId="+a+"&action="+n+"&location=IPaddresses";return $.post("app/admin/subnets/edit-folder.php",o,function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFolderSubmit",function(){t();var e=$("form#editFolderDetails").serialize();return $.post("app/admin/subnets/edit-folder-result.php",e,function(t){$(".manageFolderEditResult").html("").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFolderSubmitDelete",function(){t();var e=$(this).attr("data-subnetId"),a=$("form#editFolderDetails #field-description").val(),i=$("form#editFolderDetails input[name=csrf_cookie]").val(),o="subnetId="+e+"&description="+a+"&action=delete&csrf_cookie="+i;return"editFolderSubmitDelete"==$(this).attr("id")&&(o+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-folder-result.php",o,function(t){$(".manageFolderEditResult").html(t),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editSwitch",function(){a("400","app/admin/devices/edit.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchsubmit",function(){i(".switchManagementEditResult","app/admin/devices/edit-result.php",$("form#switchManagementEdit").serialize())}),$(document).on("click",".editSwitchSNMP",function(){a("400","app/admin/devices/edit-snmp.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchSNMPsubmit",function(){i(".switchSNMPManagementEditResult","app/admin/devices/edit-snmp-result.php",$("form#switchSNMPManagementEdit").serialize())}),$(document).on("click","#test-snmp",function(){return a("700","app/admin/devices/edit-snmp-test.php",$("form#switchSNMPManagementEdit").serialize(),!0),!1}),$(document).on("click","#snmp-routing",function(){return a("700","app/subnets/scan/subnet-scan-snmp-route.php","",!0),!1}),$(document).on("click","#snmp-vlan",function(){return a("700","app/admin/vlans/vlans-scan.php",{domainId:$(this).attr("data-domainid")},!0),!1}),$(document).on("click",".show-vlan-scan-result",function(){return i(".vlan-scan-result","app/admin/vlans/vlans-scan-execute.php",$("form#select-devices-vlan-scan").serialize(),!0),!1}),$(document).on("click","#saveVlanScanResults",function(){return i("#vlanScanAddResult","app/admin/vlans/vlans-scan-result.php",$("form#scan-snmp-vlan-form").serialize()),!1}),$(document).on("click","#snmp-vrf",function(){return a("700","app/admin/vrfs/vrf-scan.php",{},!0),!1}),$(document).on("click",".show-vrf-scan-result",function(){return i(".vrf-scan-result","app/admin/vrfs/vrf-scan-execute.php",$("form#select-devices-vrf-scan").serialize(),!0),!1}),$(document).on("click","#saveVrfScanResults",function(){return i("#vrfScanAddResult","app/admin/vrfs/vrf-scan-result.php",$("form#scan-snmp-vrf-form").serialize()),!1}),$(document).on("click",".select-snmp-subnet",function(){return $("form#editSubnetDetails input[name=subnet]").val($(this).attr("data-subnet")+"/"+$(this).attr("data-mask")),c(),!1}),$(document).on("click","#snmp-routing-section",function(){return a("masks","app/subnets/scan/subnet-scan-snmp-route-all.php",{sectionId:$(this).attr("data-sectionId"),subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".remove-snmp-results",function(){$("tbody#"+$(this).attr("data-target")).remove(),$(this).parent().remove()}),$(document).on("click",".remove-snmp-subnet",function(){return $("#editSubnetDetailsSNMPallTable tr#tr-"+$(this).attr("data-target-subnet")).remove(),!1}),$(document).on("click","#add-subnets-to-section-snmp",function(){return i(".add-subnets-to-section-snmp-result","app/subnets/scan/subnet-scan-snmp-route-all-result.php",$("form#editSubnetDetailsSNMPall").serialize()),!1}),$(document).on("click",".editDevType",function(){a("400","app/admin/device-types/edit.php",{tid:$(this).attr("data-tid"),action:$(this).attr("data-action")})}),$(document).on("click","#editDevTypeSubmit",function(){i(".devTypeEditResult","app/admin/device-types/edit-result.php",$("form#devTypeEdit").serialize())}),$(document).on("click",".editRack",function(){return a("400","app/admin/racks/edit.php",{rackid:$(this).attr("data-rackid"),action:$(this).attr("data-action")}),!1}),$(document).on("click",".editRackDevice",function(){return a("400","app/admin/racks/edit-rack-devices.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid"),action:$(this).attr("data-action"),csrf_cookie:$(this).attr("data-csrf")}),!1}),$(document).on("click","#editRackDevicesubmit",function(){i(".rackDeviceManagementEditResult","app/admin/racks/edit-rack-devices-result.php",$("form#rackDeviceManagementEdit").serialize())}),$(document).on("click",".showRackPopup",function(){return a("400","app/tools/racks/show-rack-popup.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid")},!0),!1}),$(document).on("click",".editLocation",function(){return a("700","app/admin/locations/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editLocationSubmit",function(){return i(".editLocationResult","app/admin/locations/edit-result.php",$("form#editLocation").serialize()),!1}),$(document).on("click",".editPSTN",function(){return a("700","app/tools/pstn-prefixes/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNSubmit",function(){return i(".editPSTNResult","app/tools/pstn-prefixes/edit-result.php",$("form#editPSTN").serialize()),!1}),$(document).on("click",".editPSTNnumber",function(){return a("700","app/tools/pstn-prefixes/edit-number.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNnumberSubmit",function(){return i(".editPSTNnumberResult","app/tools/pstn-prefixes/edit-number-result.php",$("form#editPSTNnumber").serialize()),!1}),$(document).on("click",".editNat",function(){return a("700","app/admin/nat/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click",".mapNat",function(){return a("700","app/admin/nat/edit-map.php",{id:$(this).attr("data-id"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")}),!1}),$(document).on("click","#editNatSubmit",function(){var t=$("form#editNat input[name=action]").val();return"add"===t?($.post("app/admin/nat/edit-result.php",$("form#editNat").serialize(),function(t){$(".editNatResult").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){a("700","app/admin/nat/edit.php",{id:$("div.new_nat_id").html(),action:"edit"}),c(),parameter=null},1e3):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1):void i(".editNatResult","app/admin/nat/edit-result.php",$("form#editNat").serialize())}),$(document).on("click",".removeNatItem",function(){var i=$(this).attr("data-id");return t(),$.post("app/admin/nat/item-remove.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),item_id:$(this).attr("data-item-id"),csrf_cookie:$("form#editNat input[name=csrf_cookie]").val()},function(t){$("#popupOverlay2 div.popup_w500").html(t),u("popup_w700",t,!0),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){a("700","app/admin/nat/edit.php",{id:i,action:"edit"}),c(),parameter=null},1e3):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".addNatItem",function(){return a("700","app/admin/nat/item-add.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},!0),!1}),$(document).on("submit","form#search_nats",function(){return t(),$.post("app/admin/nat/item-add-search.php",$(this).serialize(),function(t){$("#nat_search_results").html(t),e()}),!1}),$(document).on("click","a.addNatObjectFromSearch",function(){var i=$(this).attr("data-id"),r=$(this).attr("data-reload");return t(),$.post("app/admin/nat/item-add-submit.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},function(t){$("#nat_search_results_commit").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?"true"==r?n(t):setTimeout(function(){a("700","app/admin/nat/edit.php",{id:i,action:"edit"}),c(),parameter=null},1e3):e()}),!1}),$(".editType").click(function(){a("400","app/admin/tags/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editTypesubmit",function(){i(".editTypeResult","app/admin/tags/edit-result.php",$("form#editType").serialize())}),$(document).on("click",".editVLAN",function(){vlanNum=$(this).attr("data-number")?$(this).attr("data-number"):"",a("400","app/admin/vlans/edit.php",{vlanId:$(this).attr("data-vlanid"),action:$(this).attr("data-action"),vlanNum:vlanNum,domain:$(this).attr("data-domain")})}),$(document).on("click","#editVLANsubmit",function(){i(".vlanManagementEditResult","app/admin/vlans/edit-result.php",$("form#vlanManagementEdit").serialize())}),$(".moveVLAN").click(function(){a("400","app/admin/vlans/move-vlan.php",{vlanId:$(this).attr("data-vlanid")})}),$(document).on("click","#moveVLANsubmit",function(){i(".moveVLANSubmitResult","app/admin/vlans/move-vlan-result.php",$("form#moveVLAN").serialize())}),$(".editVLANdomain").click(function(){a("400","app/admin/vlans/edit-domain.php",{id:$(this).attr("data-domainid"),action:$(this).attr("data-action")})}),$(document).on("click","#editVLANdomainsubmit",function(){i(".domainEditResult","app/admin/vlans/edit-domain-result.php",$("form#editVLANdomain").serialize())}),$(".vrfManagement").click(function(){a("400","app/admin/vrfs/edit.php",{vrfId:$(this).attr("data-vrfid"),action:$(this).attr("data-action")})}),$(document).on("click","#editVRF",function(){i(".vrfManagementEditResult","app/admin/vrfs/edit-result.php",$("form#vrfManagementEdit").serialize())}),$(".nameserverManagement").click(function(){a("700","app/admin/nameservers/edit.php",{nameserverId:$(this).attr("data-nameserverid"),action:$(this).attr("data-action")})}),$(document).on("click","#add_nameserver",function(){t();var a=$(this).attr("data-id");return $("table#nameserverManagementEdit2 tbody#nameservers").append("<tr id='namesrv-"+a+"'><td>Nameserver "+a+"</td><td><input type='text' class='rd form-control input-sm' name='namesrv-"+a+"'></input><td><button class='btn btn-sm btn-default' id='remove_nameserver' data-id='namesrv-"+a+"'><i class='fa fa-trash-o'></i></buttom></td></td></tr>"),a++,$(this).attr("data-id",a),e(),!1}),$(document).on("click","#remove_nameserver",function(){t();var a=$(this).attr("data-id"),i=document.getElementById(a);return i.parentNode.removeChild(i),e(),!1}),$(document).on("click","#editNameservers",function(){i(".nameserverManagementEditResult","app/admin/nameservers/edit-result.php",$("form#nameserverManagementEdit").serialize())}),$("table#requestedIPaddresses button").click(function(){a("700","app/admin/requests/edit.php",{requestId:$(this).attr("data-requestid")})}),$(document).on("click","button.manageRequest",function(){var t=$("form.manageRequestEdit").serialize(),e=$(this).attr("data-action"),a=t+"&action="+e;i(".manageRequestResult","app/admin/requests/edit-result.php",a)}),$(".shareTemp").click(function(){return a("700","app/tools/temp-shares/edit.php",{type:$(this).attr("data-type"),id:$(this).attr("data-id")}),!1}),$(document).on("click","#shareTempSubmit",function(){i(".shareTempSubmitResult","app/tools/temp-shares/edit-result.php",$("form#shareTempEdit").serialize())}),$(".removeSharedTemp").click(function(){u("popup_w400"),i("#popupOverlay .popup_w400","app/tools/temp-shares/delete-result.php",{code:$(this).attr("data-code")}),e()}),$("form#ripeImport").submit(function(){t();var a=$(this).serialize();return $.post("app/admin/ripe-import/ripe-telnet.php",a,function(t){$("div.ripeImportTelnet").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","table.asImport .removeSubnet",function(){$(this).parent("tr").remove(),s()}),$(document).on("submit","form#asImport",function(){t();var a=$(this).serialize();return $.post("app/admin/ripe-import/import-subnets.php",a,function(t){
$("div.ripeImportResult").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("table.asImport").delay(1e3).fadeOut("fast"),e()):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button#filterIPSave").click(function(){t();var a=$("form#filterIP").serialize();return $.post("app/admin/filter-fields/filter-result.php",a,function(t){$("div.filterIPResult").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("div.filterIPResult").delay(2e3).fadeOut("slow"),e()):e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".edit-custom-field",function(){t();var a=$(this).attr("data-action"),i=$(this).attr("data-fieldname"),n=$(this).attr("data-table");return $.post("app/admin/custom-fields/edit.php",{action:a,fieldName:i,table:n},function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editcustomSubmit",function(){t();var e=$("form#editCustomFields").serialize();return $.post("app/admin/custom-fields/edit-result.php",e,function(t){$("div.customEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table.customIP button.down").click(function(){t();var e=$(this).attr("data-fieldname"),a=$(this).attr("data-nextfieldname"),i=$(this).attr("data-table");return $.post("app/admin/custom-fields/order.php",{current:e,next:a,table:i},function(t){$("div."+i+"-order-result").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".edit-custom-filter").click(function(){t();var a=$(this).attr("data-table");return $.post("app/admin/custom-fields/filter.php",{table:a},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editcustomFilterSubmit",function(){t();var e=$("form#editCustomFieldsFilter").serialize();return $.post("app/admin/custom-fields/filter-result.php",e,function(t){$("div.customEditFilterResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.lang").click(function(){t();var a=$(this).attr("data-langid"),i=$(this).attr("data-action");return $.post("app/admin/languages/edit.php",{langid:a,action:i},function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#langEditSubmit",function(){t();var e=$("form#langEdit").serialize();return $.post("app/admin/languages/edit-result.php",e,function(t){$("div.langEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.wedit").click(function(){t();var a=$(this).attr("data-wid"),i=$(this).attr("data-action");return $.post("app/admin/widgets/edit.php",{wid:a,action:i},function(t){$("#popupOverlay div.popup_w500").html(t),u("popup_w500"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#widgetEditSubmit",function(){t();var e=$("form#widgetEdit").serialize();return $.post("app/admin/widgets/edit-result.php",e,function(t){$("div.widgetEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.editAPI").click(function(){t();var a=$(this).attr("data-appid"),i=$(this).attr("data-action");return $.post("app/admin/api/edit.php",{appid:a,action:i},function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#apiEditSubmit",function(){t();var e=$("form#apiEdit").serialize();return $.post("app/admin/api/edit-result.php",e,function(t){$("div.apiEditResult").html(t).slideDown("fast"),n(t)}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#regApiKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input#appcode").val(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".editAgent").click(function(){a("700","app/admin/scan-agents/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#agentEditSubmit",function(){i(".agentEditResult","app/admin/scan-agents/edit-result.php",$("form#agentEdit").serialize())}),$(document).on("click","#regAgentKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input[name=code]").val(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button#searchReplaceSave").click(function(){t();var a=$("form#searchReplace").serialize();return $.post("app/admin/replace-fields/result.php",a,function(t){$("div.searchReplaceResult").html(t),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button#XLSdump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-xls.php'></iframe></div>"),e()}),$("button#MySQLdump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-mysql.php'></iframe></div>"),e()}),$("button#hostfileDump").click(function(){t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/generate-hosts.php'></iframe></div>"),e()}),$("button.dataExport").click(function(){var a=["vrf","vlan","subnets","ipaddr"],i={};i.subnets="w700",i.ipaddr="w700";var n=$("select[name=dataType]").find(":selected").val();return d(),a.indexOf(n)>-1?(t(),$.post("app/admin/import-export/export-"+n+"-field-select.php",function(t){void 0!==i[n]?($("div.popup_"+i[n]).html(t),u("popup_"+i[n])):($("#popupOverlay div.popup_w400").html(t),u("popup_w400")),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataExportSubmit",function(){var t=$(this).attr("data-type"),e=$("form#selectExportFields").serialize();switch(t){case"vrf":$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vrf.php?"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"vlan":var a=$("form#selectExportDomains").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vlan.php?"+a+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"subnets":var i=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-subnets.php?"+i+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500);break;case"ipaddr":var i=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-ipaddr.php?"+i+"&"+e+"'></iframe></div>"),setTimeout(function(){d()},1500)}return!1}),$(document).on("click","input#exportSelectAll",function(){this.checked?$("input#exportCheck").each(function(){this.checked=!0}):$("input#exportCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeSectionSelectAll",function(){this.checked?$("input#recomputeSectionCheck").each(function(){this.checked=!0}):$("input#recomputeSectionCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv4SelectAll",function(){this.checked?$("input#recomputeIPv4Check").each(function(){this.checked=!0}):$("input#recomputeIPv4Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv6SelectAll",function(){this.checked?$("input#recomputeIPv6Check").each(function(){this.checked=!0}):$("input#recomputeIPv6Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeCVRFSelectAll",function(){this.checked?$("input#recomputeCVRFCheck").each(function(){this.checked=!0}):$("input#recomputeCVRFCheck").each(function(){this.checked=!1})}),$("button.dataImport").click(function(){var a=["vrf","vlan","subnets","recompute","ipaddr"],i={};i.subnets="max",i.ipaddr="max";var n=$("select[name=dataType]").find(":selected").val();return d(),a.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-select.php",function(t){void 0!==i[n]?($("div.popup_"+i[n]).html(t),u("popup_"+i[n])):($("#popupOverlay div.popup_w700").html(t),u("popup_w700")),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataImportPreview",function(){var a=["vrf","vlan","subnets","recompute","ipaddr"],i={};i.subnets="max",i.recompute="max",i.ipaddr="max";var n=$(this).attr("data-type"),o=$("form#selectImportFields").serialize();return d(),a.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-preview.php?"+o,function(t){void 0!==i[n]?($("div.popup_"+i[n]).html(t),u("popup_"+i[n])):($("#popupOverlay div.popup_w700").html(t),u("popup_w700")),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataImportSubmit",function(){var a=["vrf","vlan","subnets","recompute","ipaddr"],i={};i.subnets="max",i.recompute="max",i.ipaddr="max";var n=$(this).attr("data-type"),o=$("form#selectImportFields").serialize();return d(),a.indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+".php?"+o,function(t){void 0!==i[n]?($("div.popup_"+i[n]).html(t),u("popup_"+i[n])):($("#popupOverlay div.popup_w700").html(t),u("popup_w700")),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),u("popup_w400")}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.dataRecompute").click(function(){return t(),$.post("app/admin/import-export/import-recompute-select.php",function(t){$("#popupOverlay div.popup_w700").html(t),u("popup_w700"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".btn-tablefix",function(){var t=$(this).attr("data-tableid"),a=$(this).attr("data-fieldid"),i=$(this).attr("data-type");return $.post("app/admin/verify-database/fix.php",{tableid:t,fieldid:a,type:i},function(i){$("div#fix-result-"+t+a).html(i).fadeIn("fast"),e()}).fail(function(t,e,a){r(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),!1});