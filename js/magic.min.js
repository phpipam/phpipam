$(document).ready(function(){function t(){$("div.loading").show()}function e(){$("div.loading").fadeOut("fast")}function a(a,n,i,r){return r=void 0!==r&&r,t(),$.post(n,i,function(t){s("popup_w"+a,t,r),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}function n(a,n,i,s){return t(),s=void 0===s||s,$.post(n,i,function(t){$("div"+a).html(t).slideDown("fast"),s&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}function i(t){-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?setTimeout(function(){window.location.reload()},1500):e()}function o(t){$("div.jqueryError").fadeIn("fast"),t.length>0&&$(".jqueryErrorText").html(t).show(),e()}function s(e,a,n){if(t(),!0===n)var i="#popupOverlay2";else i="#popupOverlay";$(i).fadeIn("fast"),!1!==a&&void 0!==a&&$(i+" ."+e).html(a),1!=n&&$("#popupOverlay2 > div").empty(),$(i+" ."+e).fadeIn("fast"),$("body").addClass("stop-scrolling"),u()}function r(){$("#popupOverlay").fadeOut("fast"),$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay > div").empty(),$("#popupOverlay2 > div").empty(),$(".popup").fadeOut("fast"),$("body").removeClass("stop-scrolling"),e()}function d(){$("#popupOverlay2").fadeOut("fast"),$("#popupOverlay2 .popup").fadeOut("fast"),$("#popupOverlay2 > div").empty(),e(),$("body").removeClass("stop-scrolling")}function p(){var t,e,a="";for(t=0;t<10;t++)e=Math.floor(62*Math.random()),a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".charAt(e);return a}function u(){if($(".popup .pContent").is(":visible")){var t=$(window).height()-250;$(".popup .pContent").css("max-height",t)}}function c(t,e,a){var n;if(void 0===a)(n=new Date).setTime(n.getTime()+24*a*60*60*1e3),i="; expires="+n.toGMTString();else var i="";document.cookie=t+"="+e+i+"; path=/"}function l(t,e){var a=function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}("sstr");if(void 0!==a&&null!=a&&0!==a.length||(a="|"),"add"==t){for(var n=a.split("|"),i=!1,o=0;o<n.length;o++)n[o]==e&&(i=!0);0==i&&(a+=e+"|")}else"remove"==t&&(a=a.replace("|"+e+"|","|"));c("sstr",a,365)}function f(e){if(t(),"topmenu"==e)var a=$(".searchInput").val(),n="searchSelect";else a=$("form#search .search").val(),n="search";if(a=a.replace(/\//g,"%252F"),c("search_parameters",'{"addresses":"'+($("#"+n+" input[name=addresses]").is(":checked")?"on":"off")+'","subnets":"'+($("#"+n+" input[name=subnets]").is(":checked")?"on":"off")+'","vlans":"'+($("#"+n+" input[name=vlans]").is(":checked")?"on":"off")+'","vrf":"'+($("#"+n+" input[name=vrf]").is(":checked")?"on":"off")+'","pstn":"'+($("#"+n+" input[name=pstn]").is(":checked")?"on":"off")+'","circuits":"'+($("#"+n+" input[name=circuits]").is(":checked")?"on":"off")+'"}',365),window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))var i=$(".iebase").html();else i="";var o=$("#prettyLinks").html();window.location="Yes"==o?i+"tools/search/"+a:i+"index.php?page=tools&section=search&ip="+a}return $(document).keydown(function(t){27===t.keyCode&&r()}),$(document).on("submit",".searchFormClass",function(){return!1}),$(".show_popover").popover(),$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),$("div.jqueryError").hide(),$(document).on("click","#hideError",function(){return $(".jqueryErrorText").html(),$("div.jqueryError").fadeOut("fast"),!1}),$(".disabled a").click(function(){return!1}),$(document).on("click",".hidePopups",function(){r()}),$(document).on("click",".hidePopup2",function(){d()}),$(document).on("click",".hidePopupMasks",function(){$(".popup_wmasks").fadeOut("fast"),e()}),$(document).on("click",".hidePopupsReload",function(){window.location.reload()}),$("a.disabled, button.disabled").click(function(){return!1}),$("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),u(),$(window).resize(function(){u()}),$(document).on("click",".selfDestruct",function(){$(this).parent("div").fadeOut("fast")}),$(function(){$(".popup").draggable({handle:".pHeader"})}),$("table.sorted-new").attr("data-toggle","table").attr("data-pagination","true").attr("data-page-size","250").attr("data-page-list","[50,100,250,500,All]").attr("data-search","true").attr("data-classes","table-no-bordered").attr("data-icon-size","sm").attr("data-show-footer","false").attr("data-show-columns","true").attr("data-icons-prefix","fa").attr("data-icons","icons").attr("data-cookie","true").attr("data-sortable","false"),$("table.sorted").attr("data-toggle","table").attr("data-pagination","true").attr("data-page-size","50").attr("data-page-list","[50,100,250,500,All]").attr("data-search","true").attr("data-classes","table-no-bordered").attr("data-icon-size","sm").attr("data-show-footer","false").attr("data-show-columns","true").attr("data-icons-prefix","fa").attr("data-icons","icons").attr("data-cookie","true").attr("data-sortable","false").attr("onlyInfoPagination","true").attr("smartDisplay",!0).attr("showPaginationSwitch",!0).attr("minimumCountColumns",!0),$("table.nosearch").attr("data-search","false").attr("data-show-columns","false"),$("table.nopagination").attr("data-pagination","false"),$("table.sortable").attr("data-sortable","true"),$("table.sorted").on("all.bs.table",function(){$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),$(".show_popover").popover()}),window.icons={refresh:"fa-refresh",toggle:"fa-toggle-on",columns:"fa-th-list"},$("li.disabled a").click(function(){return!1}),$("form.search-form").submit(function(){return!1}),$(document).on("click",".open_popup",function(){var t={},e=!1,n="400",i="";return $.each(this.attributes,function(){"data-script"==this.name?i=this.value:"data-class"==this.name?n=this.value:"data-secondary"==this.name?e=!0:-1!==this.name.indexOf("data-")&&(t[this.name.replace("data-","")]=this.value)}),""==i?o("Error: Missing target_script"):a(n,i,t,e),!1}),$(document).on("click",".submit_popup",function(){var t={},e=!0,a="",i="";return $.each(this.attributes,function(){"data-script"==this.name?i=this.value:"data-result_div"==this.name?a="#"+this.value:"data-noreload"==this.name?e=!1:"data-form"==this.name&&(t=$("form#"+this.value).serialize())}),""==i?o("Error: Missing target_script"):""==a?o("Error: Missing result div parameter"):n(a,i,t,e),!1}),$("#dashboard").length>0&&$('div[id^="w-"]').each(function(){var t=$(this).attr("id");t=t.replace("w-",""),$.post("app/dashboard/widgets/"+t+".php",function(e){$("#w-"+t+" .hContent").html(e)}).fail(function(e,a,n){$.post("app/dashboard/widgets/custom/"+t+".php",function(e){$("#w-"+t+" .hContent").html(e)}).fail(function(e,a,n){$("#w-"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')})})}),$(document).on("click","i.remove-widget",function(){$(this).parent().parent().fadeOut("fast").remove()}),$(document).on("click","#sortablePopup li a.widget-add",function(){var t=$(this).attr("id"),e=$(this).attr("data-size"),a=$(this).attr("data-htitle"),n='<div class="row-fluid"><div class="span'+e+' widget-dash" id="'+t+'"><div class="inner movable"><h4>'+a+'</h4><div class="hContent"></div></div></div></div>';return $("#dashboard").append(n),w=t.replace("w-",""),$.post("app/dashboard/widgets/"+w+".php",function(e){$("#"+t+" .hContent").html(e)}).fail(function(e,a,n){$("#"+t+" .hContent").html('<blockquote style="margin-top:20px;margin-left:20px;">File not found!</blockquote>')}),$(this).parent().fadeOut("fast"),!1}),$("ul.submenu.submenu-close").hide(),$(".icon-folder-close,.icon-folder-show, .icon-search").tooltip({delay:{show:2e3,hide:0},placement:"bottom"}),$("ul#subnets").on("click",".fa-folder-close-o",function(){$(this).removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(this).nextAll(".submenu").slideDown("fast"),l("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder",function(){$(this).removeClass("fa-folder").addClass("fa-folder-open"),$(this).nextAll(".submenu").slideDown("fast"),l("add",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open-o",function(){$(this).removeClass("fa-folder-open-o").addClass("fa-folder-close-o"),$(this).nextAll(".submenu").slideUp("fast"),l("remove",$(this).attr("data-str_id"))}),$("ul#subnets").on("click",".fa-folder-open",function(){$(this).removeClass("fa-folder-open").addClass("fa-folder"),$(this).nextAll(".submenu").slideUp("fast"),l("remove",$(this).attr("data-str_id"))}),$("#expandfolders").click(function(){"close"==$(this).attr("data-action")?($(".subnets ul#subnets li.folder > i").removeClass("fa-folder-close-o").addClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").removeClass("fa-folder").addClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").removeClass("submenu-close").addClass("submenu-open").slideDown("fast"),$(this).attr("data-action","open"),c("expandfolders","1","365"),$(this).removeClass("fa-expand").addClass("fa-compress")):($(".subnets ul#subnets li.folder > i").addClass("fa-folder-close-o").removeClass("fa-folder-open-o"),$(".subnets ul#subnets li.folderF > i").addClass("fa-folder").removeClass("fa-folder-open"),$(".subnets ul#subnets ul.submenu").addClass("submenu-close").removeClass("submenu-open").slideUp("fast"),$(this).attr("data-action","close"),c("expandfolders","0","365"),$(this).removeClass("fa-compress").addClass("fa-expand"))}),$(document).on("click",".modIPaddr",function(){t();var a="action="+$(this).attr("data-action")+"&id="+$(this).attr("data-id")+"&subnetId="+$(this).attr("data-subnetId")+"&stopIP="+$(this).attr("data-stopIP");return $.post("app/subnets/addresses/address-modify.php",a,function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.moveIPaddr",function(){t();var a="action="+$(this).attr("data-action")+"&id="+$(this).attr("data-id")+"&subnetId="+$(this).attr("data-subnetId");return $.post("app/subnets/addresses/move-address.php",a,function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#refreshHostname",function(){t();var a=$("input.ip_addr").val(),n=$(this).attr("data-subnetId");$.post("app/subnets/addresses/address-resolve.php",{ipaddress:a,subnetId:n},function(t){0!==t.length&&$("input[name=hostname]").val(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","button#editIPAddressSubmit, .editIPSubmitDelete",function(){t();var e=$("form.editipaddress").serialize();return"editIPSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes&action=delete"),"all-delete"==$(this).attr("data-action")&&(e+="&action-visual=delete"),$.post("app/subnets/addresses/address-modify-submit.php",e,function(t){$("div.addnew_check").html(t),$("div.addnew_check").slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".ping_ipaddress",function(){t();var a=$(this).attr("data-id"),n=$(this).attr("data-subnetId");return $(this).hasClass("ping_ipaddress_new")&&(a=$("input[name=ip_addr]").val()),$.post("app/subnets/addresses/ping-address.php",{id:a,subnetId:n},function(t){$("#popupOverlay2 div.popup_w400").html(t),s("popup_w400",!1,!0),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.mail_ipaddress",function(){var t=$(this).attr("data-id");return $.post("app/subnets/addresses/mail-notify.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#mailIPAddressSubmit",function(){t();var e=$("form#mailNotify").serialize();return $.post("app/subnets/addresses/mail-notify-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","a.mail_subnet",function(){var t=$(this).attr("data-id");return $.post("app/subnets/mail-notify-subnet.php",{id:t},function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#mailSubnetSubmit",function(){t();var e=$("form#mailNotifySubnet").serialize();return $.post("app/subnets/mail-notify-subnet-check.php",e,function(t){$("div.sendmail_check").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("a.scan_subnet").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/scan/subnet-scan.php",{subnetId:a},function(t){$("#popupOverlay div.popup_wmasks").html(t),s("popup_wmasks"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","table.table-scan select#type",function(){"scan-telnet"==$("select[name=type]").find(":selected").val()?$("tbody#telnetPorts").show():$("tbody#telnetPorts").hide()}),$(document).on("change","table.table-scan select#type",function(){c("scantype",$(this).find(":selected").val(),32)}),$(document).on("click","#subnetScanSubmit",function(){t(),$("#subnetScanResult").slideUp("fast");var a=$(this).attr("data-subnetId"),n=$("select[name=type]").find(":selected").val();if($("input[name=debug]").is(":checked"))var i=1;else i=0;var s=$("input[name=telnetports]").val();return $("#alert-scan").slideUp("fast"),$.post("app/subnets/scan/subnet-scan-execute.php",{subnetId:a,type:n,debug:i,port:s},function(t){$("#subnetScanResult").html(t).slideDown("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".resultRemove",function(){$(this).hasClass("resultRemoveMac")&&($(this).parent().parent().find("span.ip-address").hasClass("hidden")||$(this).parent().parent().next().find("span.ip-address").removeClass("hidden"));var t=$(this).attr("data-target");return $("tr."+t).remove(),!1}),$(document).on("click","a#saveScanResults",function(){t();var e=$(this).attr("data-script"),a=$(this).attr("data-subnetId"),n=(n=$("form."+e+"-form").serialize())+"&subnetId="+a;return $.post("app/subnets/scan/subnet-"+e+"-result.php",n,function(t){$("#subnetScanAddResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("a.csvImport").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/import-subnet/index.php",{subnetId:a},function(t){$("div.popup_max").html(t),s("popup_max"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","input#csvimportcheck",function(){t();var a=$("span.fname").html(),n=$("a.csvImport").attr("data-subnetId");$.post("app/subnets/import-subnet/print-file.php",{filetype:a,subnetId:n},function(t){$("div.csvimportverify").html(t).slideDown("fast"),e(),$(".importFooter").removeClass("hidePopups").addClass("hidePopupsReload")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","input#csvImportNo",function(){$("div.csvimportverify").hide("fast")}),$(document).on("click","input#csvImportYes",function(){t();var a=$("span.fname").html();if($("input[name=ignoreErrors]").is(":checked"))var n="1";else n="0";var i="subnetId="+$("a.csvImport").attr("data-subnetId")+"&filetype="+a+"&ignoreError="+n+"&csrf_cookie="+$("input[name=csrf_cookie]").val();$.post("app/subnets/import-subnet/import-file.php",i,function(t){$("div.csvImportResult").html(t).slideDown("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","#csvtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/import-subnet/import-template.php'></iframe></div>"),!1}),$(document).on("click","#vrftemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vrf'></iframe></div>"),!1}),$(document).on("click","#vlanstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlans'></iframe></div>"),!1}),$(document).on("click","#l2domtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=l2dom'></iframe></div>"),!1}),$(document).on("click","#vlandomaintemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=vlandomain'></iframe></div>"),!1}),$(document).on("click","#subnetstemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=subnets'></iframe></div>"),!1}),$(document).on("click","#ipaddrtemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=ipaddr'></iframe></div>"),!1}),$(document).on("click","#devicestemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devices'></iframe></div>"),!1}),$(document).on("click","#devtypetemplate",function(){return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/import-template.php?type=devtype'></iframe></div>"),!1}),$("a.csvExport").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/subnets/addresses/export-field-select.php",{subnetId:a},function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#exportSubnet",function(){var t=$("a.csvExport").attr("data-subnetId"),e=$("form#selectExportFields").serialize();return $("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/subnets/addresses/export-subnet.php?subnetId="+t+"&"+e+"'></iframe></div>"),!1}),$(document).on("click","a.editFavourite",function(){var t=$(this).attr("data-subnetId"),a=$(this).attr("data-action"),n=$(this).attr("data-from"),i=$(this);return $.post("app/tools/favourites/favourite-edit.php",{subnetId:t,action:a,from:n},function(o){"success"==o&&"widget"==n?($("tr.favSubnet-"+t).addClass("error"),$("tr.favSubnet-"+t).delay(200).fadeOut()):"success"==o?($(this).toggleClass("btn-info"),$("a.favourite-"+t+" i").toggleClass("fa-star-o"),$(i).toggleClass("btn-info"),"remove"==a?($("a.favourite-"+t).attr("data-original-title","Click to add to favourites"),$(i).attr("data-action","add")):($("a.favourite-"+t).attr("data-original-title","Click to remove from favourites"),$(i).attr("data-action","remove"))):($("#popupOverlay div.popup_w500").html(o),s("popup_w500"),e())}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("a.request_ipaddress").click(function(){t();var a=$(this).attr("data-subnetId");return $.post("app/tools/request-ip/index.php",{subnetId:a},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#requestIP_widget",function(){t();var a=$("select#subnetId option:selected").attr("value"),n=document.getElementById("ip_addr_widget").value;return $.post("app/tools/request-ip/index.php",{subnetId:a,ip_addr:n},function(t){$("div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","select#subnetId",function(){t();var a=$("select#subnetId option:selected").attr("value");$.post("app/login/request_ip_first_free.php",{subnetId:a},function(t){$("input.ip_addr").val(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","button#requestIPAddressSubmit",function(){t();var e=$("form#requestIP").serialize();return $.post("app/login/request_ip_result.php",e,function(t){$("div#requestIPresult").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#ipCalc").submit(function(){t();var a=$(this).serialize();return $.post("app/tools/ip-calculator/result.php",a,function(t){$("div.ipCalcResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#ipCalc input.reset").click(function(){$('form#ipCalc input[type="text"]').val(""),$("div.ipCalcResult").fadeOut("fast")}),$(".searchSubmit").click(function(){return f("topmenu"),!1}),$("form#userMenuSearch").submit(function(){return f("topmenu"),!1}),$("form#search").submit(function(){return f("search"),!1}),$("a.search_ipaddress").click(function(){c("search_parameters",'{"addresses":"on","subnets":"off","vlans":"off","vrf":"off","pstn":"off","circuits":"off"}',365)}),$(document).on("mouseenter","#userMenuSearch",function(t){$("#searchSelect").slideDown("fast")}),$(document).on("mouseleave","#user_menu",function(t){$(this).stop(),$("#searchSelect").slideUp()}),$(document).on("click","#exportSearch",function(t){var e=$(this).attr("data-post");return $("div.dl").remove(),$("div.exportDIVSearch").append("<div style='display:none' class='dl'><iframe src='app/tools/search/search-results-export.php?ip="+e+"'></iframe></div>"),!1}),$("#hosts").submit(function(){t();var e=$("input.hostsFilter").val(),a=$("#prettyLinks").html();return window.location="Yes"==a?base+"tools/hosts/"+e:base+"index.php?page=tools&section=hosts&ip="+e,!1}),$("form#userModSelf").submit(function(){var t=$(this).serialize();return $("div.userModSelfResult").hide(),$.post("app/tools/user-menu/user-edit.php",t,function(t){$("div.userModSelfResult").html(t).fadeIn("fast").delay(2e3).fadeOut("slow")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#randomPassSelf",function(){var t=p();return $("input.userPass").val(t),$("#userRandomPass").html(t),!1}),$("form#cform").submit(function(){t();var e=$("form#cform .climit").val(),a=$("form#cform .cfilter").val(),n=$("#prettyLinks").html();return window.location="Yes"==n?"tools/changelog/"+a+"/"+e+"/":"index.php?page=tools&section=changelog&subnetId="+a+"&sPage="+e,!1}),$("form#changePassRequiredForm").submit(function(){t();var a="ipampassword1="+$("#ipampassword1",this).val()+"&ipampassword2="+$("#ipampassword2",this).val();return $.post("app/tools/pass-change/result.php",a,function(t){$("div#changePassRequiredResult").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".show-masks",function(){return a("masks","app/tools/subnet-masks/popup.php",{closeClass:$(this).attr("data-closeClass")},!0),!1}),$(document).on("click",".logo-clear",function(){$.post("app/admin/settings/logo/logo-clear.php","",function(t){$("div.logo-current").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$("select#mtype").change(function(){"localhost"===$(this).find(":selected").val()?$("#mailsettingstbl tbody#smtp").hide():$("#mailsettingstbl tbody#smtp").show()}),$(document).on("change","form#usersEdit select[name=authMethod]",function(){"1"==$("select[name=authMethod]").find(":selected").val()?$("tbody#user_password").show():$("tbody#user_password").hide()}),$(document).on("change","form#usersEdit select[name=role]",function(){"Administrator"==$("form#usersEdit select[name=role]").find(":selected").val()?$("tbody#user_notifications").show():$("tbody#user_notifications").hide()}),$(document).on("click","a#randomPass",function(){var t=p();return $("input.userPass").val(t),$(this).html(t),!1}),$(document).on("click",".adsearchuser",function(){$("#popupOverlay2 .popup_w500").load("app/admin/users/ad-search-form.php"),s("popup_w500",!1,!0),e()}),$(document).on("click","#adsearchusersubmit",function(){t();var a=$("#dusername").val(),n=$("#adserver").find(":selected").val();$.post("app/admin/users/ad-search-result.php",{dname:a,server:n},function(t){$("div#adsearchuserresult").html(t),e()})}),$(document).on("click",".userselect",function(){var t=$(this).attr("data-uname"),e=$(this).attr("data-username"),a=$(this).attr("data-email"),n=$(this).attr("data-server"),i=$(this).attr("data-server-type");return $("form#usersEdit input[name=real_name]").val(t),$("form#usersEdit input[name=username]").val(e),$("form#usersEdit input[name=email]").val(a),$("form#usersEdit select[name=authMethod]").val(n),$("tbody#user_password").hide(),"AD"!=i&&"LDAP"!=i||$.post("app/admin/users/ad-search-result-groups-membership.php",{server:n,username:e},function(t){if(t.length>0){var e=t.replace(/\s/g,"");for(e=e.split(";"),m=0;m<e.length;++m)$("input[name='group"+e[m]+"']").attr("checked","checked")}}),d(),!1}),$(document).on("click",".adLookup",function(){$("#popupOverlay div.popup_w700").load("app/admin/groups/ad-search-group-form.php"),s("popup_w700"),e()}),$(document).on("click","#adsearchgroupsubmit",function(){t();var a=$("#dfilter").val(),n=$("#adserver").find(":selected").val();$.post("app/admin/groups/ad-search-group-result.php",{dfilter:a,server:n},function(t){$("div#adsearchgroupresult").html(t),e()})}),$(document).on("click",".groupselect",function(){t();var a=$(this).attr("data-gname"),n=$(this).attr("data-gdescription"),i=$(this).attr("data-members"),o=$(this).attr("data-gid"),s=$(this).attr("data-csrf_cookie");return $.post("app/admin/groups/edit-group-result.php",{action:"add",g_name:a,g_desc:n,gmembers:i,csrf_cookie:s},function(t){$("div.adgroup-"+o).html(t),e()}),!1}),$("#instructionsForm").submit(function(){var a=$("#instructionsForm input[name=csrf_cookie]").val(),n=$("#instructionsForm input[name=id]").val(),i=CKEDITOR.instances.instructions.getData();return $("div.instructionsPreview").hide("fast"),t(),$.post("app/admin/instructions/edit-result.php",{instructions:i,csrf_cookie:a,id:n},function(t){$("div.instructionsResult").html(t).fadeIn("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("div.instructionsResult").delay(2e3).fadeOut("slow"),e()):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#preview").click(function(){t();var a=CKEDITOR.instances.instructions.getData();return $.post("app/admin/instructions/preview.php",{instructions:a,csrf_cookie:$("#instructionsForm input[name=csrf_cookie]").val()},function(t){$("div.instructionsPreview").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("form#logs").change(function(){t();var a=$("form#logs").serialize();$.post("app/tools/logs/show-logs.php",a,function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","a.openLogDetail",function(){var t=$(this).attr("data-logid");return $.post("app/tools/logs/detail-popup.php",{id:t},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#logDirection button").click(function(){t();var a=$("form#logs").serialize(),n=$(this).attr("data-direction"),i=a+"&direction="+n+"&lastId="+("next"==n?$("table#logs tr:last").attr("id"):$("table#logs tr:nth-child(2)").attr("id"));return $.post("app/tools/logs/show-logs.php",i,function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("#downloadLogs").click(function(){return t(),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/logs/export.php'></iframe></div>"),e(),$("div.logs").prepend("<div class='alert alert-info' id='logsInfo'><i class='icon-remove icon-gray selfDestruct'></i> Preparing download... </div>"),!1}),$("#clearLogs").click(function(){return t(),$.post("app/tools/logs/clear-logs.php",function(t){$("div.logs").html(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".log-tabs li a").click(function(){return $(".log-tabs li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.log-print").hide(),$("div."+$(this).attr("data-target")).show(),!1}),$(document).on("click",".openChangelogDetail",function(){a("700","app/tools/changelog/show-popup.php",{cid:$(this).attr("data-cid")})}),$(document).on("click","#editSectionSubmit, .editSectionSubmitDelete",function(){t();var e=$("form#sectionEdit").serialize();return"editSectionSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes"),$.post("app/admin/sections/edit-result.php",e,function(t){$("div.sectionEditResult").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#sectionOrderSubmit",function(){t();var e=$("#sortableSec li").map(function(t,e){var a=$(this).index()+1;return $(e).attr("id")+":"+a}).get().join(";");return $.post("app/admin/sections/edit-order-result.php",{position:e},function(t){$(".sectionOrderResult").html(t).fadeIn("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".hideDefaults",function(){$(this).is(":checked")?$("tbody.defaults").hide():$("tbody.defaults").show()}),$(document).on("click","#editDomainSubmit",function(){if($(this).hasClass("editDomainSubmit2"))return t(),$.post("app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize(),function(t){$("#popupOverlay2 div.domain-edit-result").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/powerDNS/record-edit.php",{id:$("#popupOverlay .pContent .ip_dns_addr").html(),domain_id:$("#popupOverlay .pContent strong").html(),action:"add"},function(t){$("#popupOverlay .popup_w700").html(t)}),setTimeout(function(){$("#popupOverlay2").fadeOut("fast")},1500),setTimeout(function(){e()},1500)):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1;n(".domain-edit-result","app/admin/powerDNS/domain-edit-result.php",$("form#domainEdit").serialize())}),$(document).on("click",".refreshPTRsubnet",function(){return a("700","app/admin/powerDNS/refresh-ptr-records.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".refreshPTRsubnetSubmit",function(){return n(".refreshPTRsubnetResult","app/admin/powerDNS/refresh-ptr-records-submit.php",{subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".editRecord",function(){return a("700","app/admin/powerDNS/record-edit.php",{id:$(this).attr("data-id"),domain_id:$(this).attr("data-domain_id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editRecordSubmit",function(){n(".record-edit-result","app/admin/powerDNS/record-edit-result.php",$("form#recordEdit").serialize())}),$(document).on("click","#editRecordSubmitDelete",function(){var t=$("form#recordEdit").serialize();n(".record-edit-result","app/admin/powerDNS/record-edit-result.php",t=t.replace("action=edit","action=delete"))}),$("#firewallZoneSettings").submit(function(){t();var e=$(this).serialize();return $.post("app/admin/firewall-zones/settings-save.php",e,function(t){$("div.settingsEdit").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFirewallZone",function(){a("700","app/admin/firewall-zones/zones-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editZoneSubmit",function(){n(".zones-edit-result","app/admin/firewall-zones/zones-edit-result.php",$("form#zoneEdit").serialize())}),$(document).on("click",".subnet_to_zone",function(){t();var a=$(this).attr("data-subnetId"),n="operation="+$(this).attr("data-operation")+"&subnetId="+a;return $.post("app/admin/firewall-zones/subnet-to-zone.php",n,function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#subnet-to-zone-submit",function(){n(".subnet-to-zone-result","app/admin/firewall-zones/subnet-to-zone-save.php",$("form#subnet-to-zone-edit").serialize())}),$(document).on("change",".checkMapping",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"checkMapping"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.mappingAdd").html(t).slideDown("fast")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click",".editNetwork",function(){var t=$("form#zoneEdit").serializeArray();t.push({name:"action",value:$(this).attr("data-action")}),t.push({name:"subnetId",value:$(this).attr("data-subnetId")}),$("#popupOverlay2 .popup_w500").load("app/admin/firewall-zones/zones-edit-network.php",t),s("popup_w500",!1,!0),e()}),$(document).on("click",".deleteTempNetwork",function(){t();var a="network["+$(this).attr("data-subnetArrayKey")+"]",n=$('form#zoneEdit :input[name != "'+a+'"][name *= "network["]').serializeArray();return n.push({name:"noZone",value:1}),$.post("app/admin/firewall-zones/ajax.php",n,function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e()},500),!1}),$(document).on("click","#editNetworkSubmit",function(){return t(),reload="undefined"==typeof reload||reload,$.post("app/admin/firewall-zones/zones-edit-network-result.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zones-edit-network-result").html(t).slideDown("fast"),reload&&-1==t.search("alert-danger")&&-1==t.search("error")&&-1==t.search("alert-warning")?($.post("app/admin/firewall-zones/ajax.php",$('form#networkEdit :input[name != "sectionId"]').serialize(),function(t){$("div.zoneNetwork").html(t).slideDown("fast")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e(),d()},500)):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change",".firewallZoneSection",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"fetchSectionSubnets"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.sectionSubnets").html(t).slideDown("fast")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click",".editMapping",function(){return a("700","app/admin/firewall-zones/mapping-edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editMappingSubmit",function(){n(".mapping-edit-result","app/admin/firewall-zones/mapping-edit-result.php",$("form#mappingEdit").serialize())}),$(document).on("change",".mappingZoneInformation",function(){t();var a=$(this).serializeArray();return a.push({name:"operation",value:"deliverZoneDetail"}),$.post("app/admin/firewall-zones/ajax.php",a,function(t){$("div.zoneInformation").html(t).slideDown("fast")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),e(),!1}),$(document).on("click","a.fw_autogen",function(){var a=$(this).attr("data-subnetid"),n=$(this).attr("data-ipid"),i=$(this).attr("data-dnsname"),s=$(this).attr("data-action");return t(),$.post("app/admin/firewall-zones/ajax.php",{subnetId:a,IPId:n,dnsName:i,action:s,operation:"autogen"}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){e(),window.location.reload()},500),!1}),$('table#manageSubnets button[id^="subnet-"]').click(function(){t();var a=$(this).attr("id");$("#content-"+a).is(":visible")?$(this).children("i").removeClass("fa-angle-down").addClass("fa-angle-right"):$(this).children("i").removeClass("fa-angle-right").addClass("fa-angle-down"),$("table#manageSubnets tbody#content-"+a).slideToggle("fast"),e()}),$("#toggleAllSwitches").click(function(){t(),$(this).children().hasClass("fa-compress")?($(this).children().removeClass("fa-compress").addClass("fa-expand"),$("table#manageSubnets i.fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-right"),$('table#manageSubnets tbody[id^="content-subnet-"]').hide(),c("showSubnets",0,30)):($(this).children().removeClass("fa-expand").addClass("fa-compress"),$('table#manageSubnets tbody[id^="content-subnet-"]').show(),$("table#manageSubnets i.fa-angle-right").removeClass("fa-angle-right").addClass("fa-angle-down"),c("showSubnets",1,30)),e()}),$(document).on("click",".editSubnet",function(){t();var a="sectionId="+$(this).attr("data-sectionid")+"&subnetId="+$(this).attr("data-subnetid")+"&action="+$(this).attr("data-action");$.post("app/admin/subnets/edit.php",a,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click","#resize, #split, #truncate, .subnet-truncate",function(){t();var a=$(this).attr("id"),n=$(this).attr("data-subnetId");return $.post("app/admin/subnets/"+a+".php",{action:a,subnetId:n},function(t){s("popup_w500",t,!0),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetResizeSubmit",function(){t();var e=$("form#subnetResize").serialize();return $.post("app/admin/subnets/resize-save.php",e,function(t){$("div.subnetResizeResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetSplitSubmit",function(){t();var e=$("form#subnetSplit").serialize();return $.post("app/admin/subnets/split-save.php",e,function(t){$("div.subnetSplitResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#subnetTruncateSubmit",function(){t();var e=$(this).attr("data-subnetId"),a=$(this).attr("data-csrf_cookie");return $.post("app/admin/subnets/truncate-save.php",{subnetId:e,csrf_cookie:a},function(t){$("div.subnetTruncateResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("submit","#editSubnetDetails",function(){return!1}),$(document).on("click",".editSubnetSubmit, .editSubnetSubmitDelete",function(){t();var a=$("form#editSubnetDetails").serialize();return $(this).hasClass("editSubnetSubmitDelete")&&(a=a.replace("action=edit","action=delete")),"editSubnetSubmitDelete"==$(this).attr("id")&&(a+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-result.php",a,function(n){if($("div.manageSubnetEditResult").html(n).slideDown("fast"),-1==n.search("alert-danger")&&-1==n.search("error"))if(t(),-1!=a.search("IPaddresses"))if($("form#editSubnetDetails input[name=sectionId]").val(),$("form#editSubnetDetails input[name=subnetId]").val(),"undefined"!==$(".subnet_id_new").html()){var i=$(".subnet_id_new").html();if(i%1==0){var o=$(".section_id_new").html();if(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))var s=$(".iebase").html();else s="";"Yes"==$("#prettyLinks").html()?setTimeout(function(){window.location=s+"subnets/"+o+"/"+i+"/"},1500):setTimeout(function(){window.location=s+"index.php?page=subnets&section="+o+"&subnetId="+i},1500)}else setTimeout(function(){window.location.reload()},1500)}else setTimeout(function(){window.location.reload()},1500);else-1!=a.search("freespace")?setTimeout(function(){window.location.reload()},1500):-1!=a.search("ipcalc")||setTimeout(function(){window.location.reload()},1500);else e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#get-ripe",function(){t();var a=$("form#editSubnetDetails input[name=subnet]").val();return $.post("app/admin/subnets/ripe-query.php",{subnet:a},function(t){s("popup_w500",t,!0),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#ripeMatchSubmit",function(){var t=$("form#ripe-fields").serialize().split("&");for(index=0;index<t.length;++index)if(t[index].indexOf("=0")>-1);else{console.log(t[index]);var e=t[index].split("=");$("form#editSubnetDetails input[name="+e[1]+"]").val(e[0].replace(/___/g," "))}d()}),$(".showSubnetPerm").click(function(){t();var a=$(this).attr("data-subnetId"),n=$(this).attr("data-sectionId");return $.post("app/admin/subnets/permissions-show.php",{subnetId:a,sectionId:n},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editSubnetPermissionsSubmit",function(){t();var e=$("form#editSubnetPermissions").serialize();return $.post("app/admin/subnets/permissions-submit.php",e,function(t){$(".editSubnetPermissionsResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".dropdown-subnets li a",function(){var t=$(this).attr("data-cidr"),e=$("form#editSubnetDetails input[name=subnet]");return $(e).val(t),$(".dropdown-subnets").parent().removeClass("open"),!1}),$(".editSubnetLink").click(function(){return t(),$.post("app/admin/subnets/linked-subnet.php",{subnetId:$(this).attr("data-subnetId")},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".linkSubnetSave",function(){return t(),$.post("app/admin/subnets/linked-subnet-submit.php",$("form#editLinkedSubnet").serialize(),function(t){$(".linkSubnetSaveResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#createSubnetFromCalc",function(){$("tr#selectSection").show()}),$(document).on("change","select#selectSectionfromIPCalc",function(){var t=$(this).val(),a=$("table.ipCalcResult td#sub2").html(),n=$("table.ipCalcResult td#sub4").html();if("IPv6"==$("table.ipCalcResult td#sub0").html())var i="sectionId="+t+"&subnet="+$("table.ipCalcResult td#sub3").html()+"&bitmask=&action=add&location=ipcalc";else i="sectionId="+t+"&subnet="+a+"&bitmask="+n+"&action=add&location=ipcalc";$("table.newSections ul#sections li#"+t).addClass("active"),$.post("app/admin/subnets/edit.php",i,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})}),$(document).on("click",".createfromfree",function(){var t=$(this).attr("data-sectionId"),a=$(this).attr("data-cidr"),n=$(this).attr("data-masterSubnetId"),i=a.split("/"),r="sectionId="+t+"&subnet="+i[0]+"&bitmask="+i[1]+"&freespaceMSID="+n+"&action=add&location=ipcalc";return $.post("app/admin/subnets/edit.php",r,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".edit_subnet, button.edit_subnet, button#add_subnet",function(){var t=$(this).attr("data-subnetId"),a="sectionId="+$(this).attr("data-sectionId")+"&subnetId="+t+"&action="+$(this).attr("data-action")+"&location=IPaddresses";return $.post("app/admin/subnets/edit.php",a,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("change","select[name=vlanId]",function(){var a=$("select[name=vlanId] option:selected").attr("data-domain");return"Add"==$(this).val()&&(t(),$.post("app/admin/vlans/edit.php",{action:"add",fromSubnet:"true",domain:a},function(t){s("popup_w400",t,!0),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})),!1}),$(document).on("click",".vlanManagementEditFromSubnetButton",function(){t();var a=$("form#vlanManagementEditFromSubnet").serialize();return $.post("app/admin/vlans/edit-result.php",a,function(t){if($("div.vlanManagementEditFromSubnetResult").html(t).show(),-1==t.search("alert-danger")&&-1==t.search("error")){var a=$("#vlanidforonthefly").html(),n=$("#editSubnetDetails input[name=sectionId]").val();$.post("app/admin/subnets/edit-vlan-dropdown.php",{vlanId:a,sectionId:n},function(t){$(".editSubnetDetails td#vlanDropdown").html(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),setTimeout(function(){!function(t,e){if(!0===e)var a="#popupOverlay2";else a="#popupOverlay";$(a+" ."+t).fadeOut("fast"),$(a+" > div").empty(),$("body").removeClass("stop-scrolling")}("popup_w400",!0),d(),parameter=null},1e3)}else e()}),!1}),$(".vlansearchsubmit").click(function(){t();var e=$("input.vlanfilter").val(),a=$("input.vlanfilter").attr("data-location");return"Yes"==$("#prettyLinks").html()?setTimeout(function(){window.location=a+e+"/"},500):setTimeout(function(){window.location=a+"&sPage="+e},500),"Yes"==$("#prettyLinks").html()?setTimeout(function(){window.location=base+"subnets/"+section_id_new+"/"+subnet_id_new+"/"},1500):setTimeout(function(){window.location=base+"index.php?page=subnets&section="+section_id_new+"&subnetId="+subnet_id_new},1500),!1}),$(document).on("click","#add_folder, .add_folder",function(){t();var a=$(this).attr("data-subnetId"),n="sectionId="+$(this).attr("data-sectionId")+"&subnetId="+a+"&action="+$(this).attr("data-action")+"&location=IPaddresses";return $.post("app/admin/subnets/edit-folder.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFolderSubmit",function(){t();var e=$("form#editFolderDetails").serialize();return $.post("app/admin/subnets/edit-folder-result.php",e,function(t){$(".manageFolderEditResult").html("").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editFolderSubmitDelete",function(){t();var e="subnetId="+$(this).attr("data-subnetId")+"&description="+$("form#editFolderDetails #field-description").val()+"&action=delete&csrf_cookie="+$("form#editFolderDetails input[name=csrf_cookie]").val();return"editFolderSubmitDelete"==$(this).attr("id")&&(e+="&deleteconfirm=yes"),$.post("app/admin/subnets/edit-folder-result.php",e,function(t){$(".manageFolderEditResult").html(t),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".editSwitch",function(){a("400","app/admin/devices/edit.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchsubmit",function(){n(".switchManagementEditResult","app/admin/devices/edit-result.php",$("form#switchManagementEdit").serialize())}),$(document).on("click",".editSwitchSNMP",function(){a("400","app/admin/devices/edit-snmp.php",{switchId:$(this).attr("data-switchid"),action:$(this).attr("data-action")})}),$(document).on("click","#editSwitchSNMPsubmit",function(){n(".switchSNMPManagementEditResult","app/admin/devices/edit-snmp-result.php",$("form#switchSNMPManagementEdit").serialize())}),$(document).on("click","#test-snmp",function(){return a("700","app/admin/devices/edit-snmp-test.php",$("form#switchSNMPManagementEdit").serialize(),!0),!1}),$(document).on("click","#snmp-routing",function(){return a("700","app/subnets/scan/subnet-scan-snmp-route.php","",!0),!1}),$(document).on("click","#snmp-vlan",function(){return a("700","app/admin/vlans/vlans-scan.php",{domainId:$(this).attr("data-domainid")},!0),!1}),$(document).on("click",".show-vlan-scan-result",function(){return n(".vlan-scan-result","app/admin/vlans/vlans-scan-execute.php",$("form#select-devices-vlan-scan").serialize(),!0),!1}),$(document).on("click","#saveVlanScanResults",function(){return n("#vlanScanAddResult","app/admin/vlans/vlans-scan-result.php",$("form#scan-snmp-vlan-form").serialize()),!1}),$(document).on("click","#snmp-vrf",function(){return a("700","app/admin/vrfs/vrf-scan.php",{},!0),!1}),$(document).on("click",".show-vrf-scan-result",function(){return n(".vrf-scan-result","app/admin/vrfs/vrf-scan-execute.php",$("form#select-devices-vrf-scan").serialize(),!0),!1}),$(document).on("click","#saveVrfScanResults",function(){return n("#vrfScanAddResult","app/admin/vrfs/vrf-scan-result.php",$("form#scan-snmp-vrf-form").serialize()),!1}),$(document).on("click",".select-snmp-subnet",function(){return $("form#editSubnetDetails input[name=subnet]").val($(this).attr("data-subnet")+"/"+$(this).attr("data-mask")),d(),!1}),$(document).on("click","#snmp-routing-section",function(){return a("masks","app/subnets/scan/subnet-scan-snmp-route-all.php",{sectionId:$(this).attr("data-sectionId"),subnetId:$(this).attr("data-subnetId")}),!1}),$(document).on("click",".remove-snmp-results",function(){$("tbody#"+$(this).attr("data-target")).remove(),$(this).parent().remove()}),$(document).on("click",".remove-snmp-subnet",function(){return $("#editSubnetDetailsSNMPallTable tr#tr-"+$(this).attr("data-target-subnet")).remove(),!1}),$(document).on("click","#add-subnets-to-section-snmp",function(){return n(".add-subnets-to-section-snmp-result","app/subnets/scan/subnet-scan-snmp-route-all-result.php",$("form#editSubnetDetailsSNMPall").serialize()),!1}),$(document).on("click",".editDevType",function(){a("400","app/admin/device-types/edit.php",{tid:$(this).attr("data-tid"),action:$(this).attr("data-action")})}),$(document).on("click","#editDevTypeSubmit",function(){n(".devTypeEditResult","app/admin/device-types/edit-result.php",$("form#devTypeEdit").serialize())}),$(document).on("click",".editRack",function(){return a("400","app/admin/racks/edit.php",{rackid:$(this).attr("data-rackid"),action:$(this).attr("data-action")}),!1}),$(document).on("click",".editRackDevice",function(){return a("400","app/admin/racks/edit-rack-devices.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid"),action:$(this).attr("data-action"),csrf_cookie:$(this).attr("data-csrf")}),!1}),$(document).on("click","#editRackDevicesubmit",function(){n(".rackDeviceManagementEditResult","app/admin/racks/edit-rack-devices-result.php",$("form#rackDeviceManagementEdit").serialize())}),$(document).on("click",".showRackPopup",function(){return a("400","app/tools/racks/show-rack-popup.php",{rackid:$(this).attr("data-rackid"),deviceid:$(this).attr("data-deviceid")},!0),!1}),$(document).on("click",".editLocation",function(){return a("700","app/admin/locations/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editLocationSubmit",function(){return n(".editLocationResult","app/admin/locations/edit-result.php",$("form#editLocation").serialize()),!1}),$(document).on("click",".editPSTN",function(){return a("700","app/tools/pstn-prefixes/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNSubmit",function(){return n(".editPSTNResult","app/tools/pstn-prefixes/edit-result.php",$("form#editPSTN").serialize()),!1}),$(document).on("click",".editPSTNnumber",function(){return a("700","app/tools/pstn-prefixes/edit-number.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click","#editPSTNnumberSubmit",function(){return n(".editPSTNnumberResult","app/tools/pstn-prefixes/edit-number-result.php",$("form#editPSTNnumber").serialize()),!1}),$(document).on("click",".editNat",function(){return a("700","app/admin/nat/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")}),!1}),$(document).on("click",".mapNat",function(){return a("700","app/admin/nat/edit-map.php",{id:$(this).attr("data-id"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")}),!1}),$(document).on("click","#editNatSubmit",function(){if("add"===$("form#editNat input[name=action]").val())return $.post("app/admin/nat/edit-result.php",$("form#editNat").serialize(),function(t){$(".editNatResult").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){a("700","app/admin/nat/edit.php",{id:$("div.new_nat_id").html(),action:"edit"}),d(),parameter=null},1e3):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1;n(".editNatResult","app/admin/nat/edit-result.php",$("form#editNat").serialize())}),$(document).on("click",".removeNatItem",function(){var n=$(this).attr("data-id");return t(),$.post("app/admin/nat/item-remove.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),item_id:$(this).attr("data-item-id"),csrf_cookie:$("form#editNat input[name=csrf_cookie]").val()},function(t){$("#popupOverlay2 div.popup_w500").html(t),s("popup_w700",t,!0),-1==t.search("alert-danger")&&-1==t.search("error")?setTimeout(function(){a("700","app/admin/nat/edit.php",{id:n,action:"edit"}),d(),parameter=null},1e3):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".addNatItem",function(){return a("700","app/admin/nat/item-add.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},!0),!1}),$(document).on("submit","form#search_nats",function(){return t(),$.post("app/admin/nat/item-add-search.php",$(this).serialize(),function(t){$("#nat_search_results").html(t),e()}),!1}),$(document).on("click","a.addNatObjectFromSearch",function(){var n=$(this).attr("data-id"),o=$(this).attr("data-reload");return t(),$.post("app/admin/nat/item-add-submit.php",{id:$(this).attr("data-id"),type:$(this).attr("data-type"),object_type:$(this).attr("data-object-type"),object_id:$(this).attr("data-object-id")},function(t){$("#nat_search_results_commit").html(t),-1==t.search("alert-danger")&&-1==t.search("error")?"true"==o?i(t):setTimeout(function(){a("700","app/admin/nat/edit.php",{id:n,action:"edit"}),d(),parameter=null},1e3):e()}),!1}),$(document).on("click",".editType",function(){a("400","app/admin/tags/edit.php",{id:$(this).attr("data-id"),action:$(this).attr("data-action")})}),$(document).on("click","#editTypesubmit",function(){n(".editTypeResult","app/admin/tags/edit-result.php",$("form#editType").serialize())}),$(document).on("click",".editVLAN",function(){vlanNum=$(this).attr("data-number")?$(this).attr("data-number"):"",a("400","app/admin/vlans/edit.php",{vlanId:$(this).attr("data-vlanid"),action:$(this).attr("data-action"),vlanNum:vlanNum,domain:$(this).attr("data-domain")})}),$(document).on("click","#editVLANsubmit",function(){n(".vlanManagementEditResult","app/admin/vlans/edit-result.php",$("form#vlanManagementEdit").serialize())}),$(document).on("click",".editVLANgroup",function(){vlanNum=$(this).attr("data-number")?$(this).attr("data-number"):"",a("400","app/admin/vlans/edit-group.php",{action:$(this).attr("data-action"),domain:$(this).attr("data-domain"),groupId:$(this).attr("data-id")})}),$(document).on("click","#editVLANgroupSubmit",function(){n(".vlanManagementEditResult","app/admin/vlans/edit-vlan-group-result.php",$("form#vlanManagementEdit").serialize())}),$(document).on("click","#editVLANdomainsubmit",function(){n(".domainEditResult","app/admin/vlans/edit-domain-result.php",$("form#editVLANdomain").serialize())}),$(document).on("click","#editVRF",function(){n(".vrfManagementEditResult","app/admin/vrfs/edit-result.php",$("form#vrfManagementEdit").serialize())}),$(document).on("click","#add_nameserver",function(){t();var a=$(this).attr("data-id");return $("table#nameserverManagementEdit2 tbody#nameservers").append("<tr id='namesrv-"+a+"'><td>Nameserver "+a+"</td><td><input type='text' class='rd form-control input-sm' name='namesrv-"+a+"'></input><td><button class='btn btn-sm btn-default' id='remove_nameserver' data-id='namesrv-"+a+"'><i class='fa fa-trash-o'></i></buttom></td></td></tr>"),a++,$(this).attr("data-id",a),e(),!1}),$(document).on("click","#remove_nameserver",function(){t();var a=$(this).attr("data-id"),n=document.getElementById(a);return n.parentNode.removeChild(n),e(),!1}),$(document).on("click","button.manageRequest",function(){n(".manageRequestResult","app/admin/requests/edit-result.php",$("form.manageRequestEdit").serialize()+"&action="+$(this).attr("data-action"))}),$(document).on("click",".removeSharedTemp",function(){s("popup_w400"),n("#popupOverlay .popup_w400","app/tools/temp-shares/delete-result.php",{code:$(this).attr("data-code")}),e()}),$("form#ripeImport").submit(function(){t();var a=$(this).serialize();return $.post("app/admin/ripe-import/ripe-telnet.php",a,function(t){$("div.ripeImportTelnet").html(t).fadeIn("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","table.asImport .removeSubnet",function(){$(this).parent("tr").remove(),$(".tooltip").hide()}),$(document).on("submit","form#asImport",function(){t();var a=$(this).serialize();return $.post("app/admin/ripe-import/import-subnets.php",a,function(t){$("div.ripeImportResult").html(t).slideDown("fast"),-1==t.search("alert-danger")&&-1==t.search("error")?($("table.asImport").delay(1e3).fadeOut("fast"),e()):e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".edit-custom-field",function(){t();var a=$(this).attr("data-action"),n=$(this).attr("data-fieldname"),i=$(this).attr("data-table");return $.post("app/admin/custom-fields/edit.php",{action:a,fieldName:n,table:i},function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editcustomSubmit",function(){t();var e=$("form#editCustomFields").serialize();return $.post("app/admin/custom-fields/edit-result.php",e,function(t){$("div.customEditResult").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table.customIP button.down").click(function(){t();var e=$(this).attr("data-fieldname"),a=$(this).attr("data-nextfieldname"),n=$(this).attr("data-table");return $.post("app/admin/custom-fields/order.php",{current:e,next:a,table:n},function(t){$("div."+n+"-order-result").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(".edit-custom-filter").click(function(){t();var a=$(this).attr("data-table");return $.post("app/admin/custom-fields/filter.php",{table:a},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#editcustomFilterSubmit",function(){t();var e=$("form#editCustomFieldsFilter").serialize();return $.post("app/admin/custom-fields/filter-result.php",e,function(t){$("div.customEditFilterResult").html(t).slideDown("fast"),i(t)}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#regApiKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input#appcode").val(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","#regAgentKey",function(){return t(),$.post("app/admin/api/generate-key.php",function(t){$("input[name=code]").val(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button#searchReplaceSave").click(function(){t();var a=$("form#searchReplace").serialize();return $.post("app/admin/replace-fields/result.php",a,function(t){$("div.searchReplaceResult").html(t),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button#XLSdump, button#MySQLdump, button#hostfileDump").click(function(){t();var a="";"XLSdump"==$(this).attr("id")?a="generate-xls.php":"MySQLdump"==$(this).attr("id")?a="generate-mysql.php":"hostfileDump"==$(this).attr("id")&&(a="generate-hosts.php"),$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/"+a+"'></iframe></div>"),e()}),$("button.dataExport").click(function(){var a={subnets:"w700",ipaddr:"w700",devices:"max"},n=$("select[name=dataType]").find(":selected").val();return r(),["vrf","vlan","subnets","ipaddr","l2dom","devices","devtype"].indexOf(n)>-1?(t(),$.post("app/admin/import-export/export-"+n+"-field-select.php",function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),s("popup_"+a[n])):($("#popupOverlay div.popup_w400").html(t),s("popup_w400")),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataExportSubmit",function(){var t=$(this).attr("data-type"),e=$("form#selectExportFields").serialize();switch(t){case"vrf":$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vrf.php?"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"vlan":var a=$("form#selectExportDomains").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-vlan.php?"+a+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"subnets":var n=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-subnets.php?"+n+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"ipaddr":n=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-ipaddr.php?"+n+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"l2dom":n=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-l2dom.php?"+n+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"devices":n=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-devices.php?"+n+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500);break;case"devtype":n=$("form#selectExportSections").serialize();$("div.dl").remove(),$("div.exportDIV").append("<div style='display:none' class='dl'><iframe src='app/admin/import-export/export-devtype.php?"+n+"&"+e+"'></iframe></div>"),setTimeout(function(){r()},1500)}return!1}),$(document).on("click","input#exportSelectAll",function(){this.checked?$("input#exportCheck").each(function(){this.checked=!0}):$("input#exportCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeSectionSelectAll",function(){this.checked?$("input#recomputeSectionCheck").each(function(){this.checked=!0}):$("input#recomputeSectionCheck").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv4SelectAll",function(){this.checked?$("input#recomputeIPv4Check").each(function(){this.checked=!0}):$("input#recomputeIPv4Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeIPv6SelectAll",function(){this.checked?$("input#recomputeIPv6Check").each(function(){this.checked=!0}):$("input#recomputeIPv6Check").each(function(){this.checked=!1})}),$(document).on("click","input#recomputeCVRFSelectAll",function(){this.checked?$("input#recomputeCVRFCheck").each(function(){this.checked=!0}):$("input#recomputeCVRFCheck").each(function(){this.checked=!1})}),$("button.dataImport").click(function(){var a={subnets:"max",ipaddr:"max",devices:"max"},n=$("select[name=dataType]").find(":selected").val();return r(),["vrf","vlan","subnets","recompute","ipaddr","l2dom","devices","devtype"].indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-select.php",function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),s("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),s("popup_w700")),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataImportPreview",function(){var a={subnets:"max",recompute:"max",ipaddr:"max",devices:"max"},n=$(this).attr("data-type"),i=$("form#selectImportFields").serialize();return r(),["vrf","vlan","subnets","recompute","ipaddr","l2dom","devices","devtype"].indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+"-preview.php?"+i,function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),s("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),s("popup_w700")),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click","button#dataImportSubmit",function(){var a={subnets:"max",recompute:"max",ipaddr:"max",devices:"max"},n=$(this).attr("data-type"),i=$("form#selectImportFields").serialize();return r(),["vrf","vlan","subnets","recompute","ipaddr","l2dom","devices","devtype"].indexOf(n)>-1?(t(),$.post("app/admin/import-export/import-"+n+".php?"+i,function(t){void 0!==a[n]?($("div.popup_"+a[n]).html(t),s("popup_"+a[n])):($("#popupOverlay div.popup_w700").html(t),s("popup_w700")),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)})):$.post("app/admin/import-export/not-implemented.php",function(t){$("#popupOverlay div.popup_w400").html(t),s("popup_w400")}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("button.dataRecompute").click(function(){return t(),$.post("app/admin/import-export/import-recompute-select.php",function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$(document).on("click",".btn-tablefix",function(){var t=$(this).attr("data-tableid"),a=$(this).attr("data-fieldid"),n=$(this).attr("data-type");return $.post("app/admin/verify-database/fix.php",{tableid:t,fieldid:a,type:n},function(n){$("div#fix-result-"+t+a).html(n).fadeIn("fast"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table#manageSubnets").on("click","button.editSubnet",function(){t();var a="sectionId="+$(this).attr("data-sectionid")+"&subnetId="+$(this).attr("data-subnetid")+"&action="+$(this).attr("data-action");return $.post("app/admin/subnets/edit.php",a,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table#manageSubnets").on("click","button.showSubnetPerm",function(){t();var a=$(this).attr("data-subnetId"),n=$(this).attr("data-sectionId");return $.post("app/admin/subnets/permissions-show.php",{subnetId:a,sectionId:n},function(t){$("#popupOverlay div.popup_w500").html(t),s("popup_w500"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),$("table#manageSubnets").on("click","button.add_folder",function(){t();var a=$(this).attr("data-subnetId"),n="sectionId="+$(this).attr("data-sectionId")+"&subnetId="+a+"&action="+$(this).attr("data-action")+"&location=IPaddresses";return $.post("app/admin/subnets/edit-folder.php",n,function(t){$("#popupOverlay div.popup_w700").html(t),s("popup_w700"),e()}).fail(function(t,e,a){o(t.statusText+"<br>Status: "+e+"<br>Error: "+a)}),!1}),!1});
